(()=>{var e={63166:(e,t,o)=>{"use strict";o.d(t,{fc:()=>i});let r="";function n(e){if("https://subscribe.wordpress.com"===e.origin&&e.data){const t=JSON.parse(e.data);if(t&&t.result&&t.result.jwt_token&&(r=t.result.jwt_token,c(r)),t&&"close"===t.action&&r)window.location.reload();else if(t&&"close"===t.action){window.removeEventListener("message",n);document.getElementById("memberships-modal-window").close(),document.body.classList.remove("modal-open")}}}function s(e){e.addEventListener("click",(t=>(t.preventDefault(),function(e){window.scrollTo(0,0),document.body.classList.add("modal-open");const t=document.getElementById("memberships-modal-window"),o=t??document.createElement("dialog");if(!t){o.setAttribute("id","memberships-modal-window");const t=document.createElement("iframe");t.setAttribute("id","memberships-modal-iframe"),t.innerText="This feature requires inline frames. You have iframes disabled or your browser does not support them.",t.src=e+"&display=alternate&jwt_token="+a(),t.setAttribute("frameborder","0"),t.setAttribute("allowtransparency","true"),t.setAttribute("allowfullscreen","true"),o.classList.add("jetpack-memberships-modal"),document.body.appendChild(o),o.appendChild(t)}window.addEventListener("message",n,!1),o.showModal(),window.scrollTo(0,0)}(e.getAttribute("href")),this.blur(),!1)))}const i=e=>{Array.prototype.slice.call(document.querySelectorAll(e)).forEach((e=>{if("true"!==e.getAttribute("data-jetpack-memberships-button-initialized")){try{s(e)}catch(e){console.error("Problem setting up Modal",e)}e.setAttribute("data-jetpack-memberships-button-initialized","true")}}))},a=function(){const e=`; ${document.cookie}`.split("; jp-premium-content-session = ");if(2===e.length)return e.pop().split(";").shift()},c=function(e){const t="."+window.location.hostname;document.cookie="jp-premium-content-session="+e+"; expires=0; path=/; domain="+t}},47701:e=>{"use strict";e.exports=window.wp.domReady}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,o),s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=o(47701),t=o.n(e),r=o(63166);const n=[{querySelector:".wp-block-premium-content-container",blockType:"paid-content"},{querySelector:".wp-block-jetpack-payment-buttons",blockType:"payment-button"},{querySelector:".jetpack-subscribe-paywall",blockType:"paywall"},{querySelector:".wp-block-jetpack-donations",blockType:"donations"}];"undefined"!=typeof window&&t()((()=>{(0,r.fc)(".wp-block-jetpack-recurring-payments a"),setTimeout((()=>{const e=new URL(window.location.href);if(document.querySelectorAll(".wp-block-button__link").forEach((e=>{if(e.href){const t=new URL(e.href),o=n.filter((t=>e.closest(t.querySelector)?.contains(e)));1===o.length&&(t.searchParams.set("block_type",o[0].blockType),e.href=t.toString())}})),e.searchParams.has("recurring_payments")&&window.history.replaceState){const t=`recurring-payments-${e.searchParams.get("recurring_payments")}`;e.searchParams.delete("recurring_payments"),window.history.replaceState({},"",e),document.getElementById(t)?.click()}}),100)}))})()})();