!function(){var e,t,r,n={197:function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.default=e.exports,e.exports.__esModule=!0},900:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},105:function(e,t){var r;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var o=s.apply(null,r);o&&e.push(o)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var i in r)n.call(r,i)&&r[i]&&e.push(i);else e.push(r.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},213:function(e){!function(){"use strict";var t=[],r=3988292384;function n(e){var t,n,s,a,o=-1;for(t=0,s=e.length;t<s;t+=1){for(a=255&(o^e[t]),n=0;n<8;n+=1)1==(1&a)?a=a>>>1^r:a>>>=1;o=o>>>8^a}return-1^o}function s(e,r){var n,a,o;if(void 0!==s.crc&&r&&e||(s.crc=-1,e)){for(n=s.crc,a=0,o=e.length;a<o;a+=1)n=n>>>8^t[255&(n^e[a])];return s.crc=n,-1^n}}!function(){var e,n,s;for(n=0;n<256;n+=1){for(e=n,s=0;s<8;s+=1)1&e?e=r^e>>>1:e>>>=1;t[n]=e>>>0}}(),e.exports=function(e,t){var r;e="string"==typeof e?(r=e,Array.prototype.map.call(r,(function(e){return e.charCodeAt(0)}))):e;return((t?n(e):s(e))>>>0).toString(16)},e.exports.direct=n,e.exports.table=s}()},27:function(e){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,s=t.cmp&&(r=t.cmp,function(e){return function(t,n){var s={key:t,value:e[t]},a={key:n,value:e[n]};return r(s,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,o;if(Array.isArray(t)){for(o="[",r=0;r<t.length;r++)r&&(o+=","),o+=e(t[r])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var i=a.push(t)-1,c=Object.keys(t).sort(s&&s(t));for(o="",r=0;r<c.length;r++){var l=c[r],u=e(t[l]);u&&(o&&(o+=","),o+=JSON.stringify(l)+":"+u)}return a.splice(i,1),"{"+o+"}"}}(e)}},266:function(e,t,r){"use strict";var n=r(364),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function c(e){return n.isMemo(e)?o:i[e.$$typeof]||s}i[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[n.Memo]=o;var l=Object.defineProperty,u=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(m){var s=d(r);s&&s!==m&&e(t,s,n)}var o=u(r);p&&(o=o.concat(p(r)));for(var i=c(t),f=c(r),g=0;g<o.length;++g){var y=o[g];if(!(a[y]||n&&n[y]||f&&f[y]||i&&i[y])){var v=h(r,y);try{l(t,y,v)}catch(_){}}}}return t}},546:function(e){"use strict";e.exports=function(e,t,r,n,s,a,o,i){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,s,a,o,i],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},596:function(e,t,r){var n=r(373).Symbol;e.exports=n},16:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}},563:function(e,t,r){var n=r(596),s=r(703),a=r(888),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?s(e):a(e)}},316:function(e,t,r){var n=r(596),s=r(16),a=r(163),o=r(995),i=n?n.prototype:void 0,c=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return s(t,e)+"";if(o(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r}},367:function(e,t,r){var n=r(120),s=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(s,""):e}},117:function(e){var t="object"==typeof window&&window&&window.Object===Object&&window;e.exports=t},703:function(e,t,r){var n=r(596),s=Object.prototype,a=s.hasOwnProperty,o=s.toString,i=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,i),r=e[i];try{e[i]=void 0;var n=!0}catch(c){}var s=o.call(e);return n&&(t?e[i]=r:delete e[i]),s}},888:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},373:function(e,t,r){var n=r(117),s="object"==typeof self&&self&&self.Object===Object&&self,a=n||s||Function("return this")();e.exports=a},120:function(e){var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},34:function(e,t,r){var n=r(709),s=r(987),a=r(812),o=Math.max,i=Math.min;e.exports=function(e,t,r){var c,l,u,p,h,d,m=0,f=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=c,n=l;return c=l=void 0,m=t,p=e.apply(n,r)}function _(e){return m=e,h=setTimeout(b,t),f?v(e):p}function E(e){var r=e-d;return void 0===d||r>=t||r<0||g&&e-m>=u}function b(){var e=s();if(E(e))return w(e);h=setTimeout(b,function(e){var r=t-(e-d);return g?i(r,u-(e-m)):r}(e))}function w(e){return h=void 0,y&&c?v(e):(c=l=void 0,p)}function k(){var e=s(),r=E(e);if(c=arguments,l=this,d=e,r){if(void 0===h)return _(d);if(g)return clearTimeout(h),h=setTimeout(b,t),v(d)}return void 0===h&&(h=setTimeout(b,t)),p}return t=a(t)||0,n(r)&&(f=!!r.leading,u=(g="maxWait"in r)?o(a(r.maxWait)||0,t):u,y="trailing"in r?!!r.trailing:y),k.cancel=function(){void 0!==h&&clearTimeout(h),m=0,c=d=l=h=void 0},k.flush=function(){return void 0===h?p:w(s())},k}},163:function(e){var t=Array.isArray;e.exports=t},709:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},474:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},995:function(e,t,r){var n=r(563),s=r(474);e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==n(e)}},987:function(e,t,r){var n=r(373);e.exports=function(){return n.Date.now()}},812:function(e,t,r){var n=r(367),s=r(709),a=r(995),o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=i.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):o.test(e)?NaN:+e}},10:function(e,t,r){var n=r(316);e.exports=function(e){return null==e?"":n(e)}},660:function(e,t,r){var n=r(10),s=0;e.exports=function(e){var t=++s;return n(e)+t}},2:function(e){var t=1e3,r=60*t,n=60*r,s=24*n,a=7*s,o=365.25*s;function i(e,t,r,n){var s=t>=1.5*r;return Math.round(e/r)+" "+n+(s?"s":"")}e.exports=function(e,c){c=c||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!i)return;var c=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*s;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===l&&isFinite(e))return c.long?function(e){var a=Math.abs(e);if(a>=s)return i(e,a,s,"day");if(a>=n)return i(e,a,n,"hour");if(a>=r)return i(e,a,r,"minute");if(a>=t)return i(e,a,t,"second");return e+" ms"}(e):function(e){var a=Math.abs(e);if(a>=s)return Math.round(e/s)+"d";if(a>=n)return Math.round(e/n)+"h";if(a>=r)return Math.round(e/r)+"m";if(a>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},587:function(e,t,r){"use strict";var n=r(843);function s(){}function a(){}a.resetWarningCache=s,e.exports=function(){function e(e,t,r,s,a,o){if(o!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:s};return r.PropTypes=r,r}},268:function(e,t,r){e.exports=r(587)()},843:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},118:function(e,t){"use strict";var r=Object.prototype,n=r.toString,s=r.hasOwnProperty,a="[object Object]",o="[object Array]";function i(e,t){return null!=e?e+"["+t+"]":t}t.x=function e(t,r,c){var l=n.call(t);if(void 0===c)if(l===a)c={};else{if(l!==o)return;c=[]}for(var u in t)if(s.call(t,u)){var p=t[u];if(null!=p)switch(n.call(p)){case o:case a:e(p,i(r,u),c);break;default:c[i(r,u)]=p}}return c}},462:function(e,t){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case p:case a:case i:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case f:case c:return e;default:return t}}case s:return t}}}function w(e){return b(e)===p}t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=c,t.Element=n,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=f,t.Portal=s,t.Profiler=i,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||b(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===l},t.isContextProvider=function(e){return b(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===f},t.isPortal=function(e){return b(e)===s},t.isProfiler=function(e){return b(e)===i},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===i||e===o||e===d||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===v||e.$$typeof===_||e.$$typeof===E||e.$$typeof===y)},t.typeOf=b},364:function(e,t,r){"use strict";e.exports=r(462)},601:function(e){"use strict";function t(e,r){var n;if(Array.isArray(r))for(n=0;n<r.length;n++)t(e,r[n]);else for(n in r)e[n]=(e[n]||[]).concat(r[n])}e.exports=function(e){var r,n={};return t(n,e),(r=function(e){return function(t){return function(r){var s,a,o=n[r.type],i=t(r);if(o)for(s=0;s<o.length;s++)(a=o[s](r,e))&&e.dispatch(a);return i}}}).effects=n,r}},211:function(e){"use strict";var t=256,r=[],n=window,s=Math.pow(t,6),a=Math.pow(2,52),o=2*a,i=255,c=Math.random;function l(e){var r,n=e.length,s=this,a=0,o=s.i=s.j=0,c=s.S=[];for(n||(e=[n++]);a<t;)c[a]=a++;for(a=0;a<t;a++)c[a]=c[o=i&o+e[a%n]+(r=c[a])],c[o]=r;(s.g=function(e){for(var r,n=0,a=s.i,o=s.j,c=s.S;e--;)r=c[a=i&a+1],n=n*t+c[i&(c[a]=c[o=i&o+r])+(c[o]=r)];return s.i=a,s.j=o,n})(t)}function u(e,t){var r,n=[],s=(typeof e)[0];if(t&&"o"==s)for(r in e)try{n.push(u(e[r],t-1))}catch(a){}return n.length?n:"s"==s?e:e+"\0"}function p(e,t){for(var r,n=e+"",s=0;s<n.length;)t[i&s]=i&(r^=19*t[i&s])+n.charCodeAt(s++);return d(t)}function h(e){try{return n.crypto.getRandomValues(e=new Uint8Array(t)),d(e)}catch(s){return[+new Date,n,n.navigator&&n.navigator.plugins,n.screen,d(r)]}}function d(e){return String.fromCharCode.apply(0,e)}e.exports=function(n,i){if(i&&!0===i.global)return i.global=!1,Math.random=e.exports(n,i),i.global=!0,Math.random;var c=i&&i.entropy||!1,m=[],f=(p(u(c?[n,d(r)]:0 in arguments?n:h(),3),m),new l(m));return p(d(f.S),r),function(){for(var e=f.g(6),r=s,n=0;e<a;)e=(e+n)*t,r*=t,n=f.g(1);for(;e>=o;)e/=2,r/=2,n>>>=1;return(e+n)/r}},e.exports.resetGlobal=function(){Math.random=c},p(Math.random(),r)},78:function(e){var t=/<\/?([a-z][a-z0-9]*)\b[^>]*>?/gi;e.exports=function(e){return(e=e||"").replace(t,"").trim()}},276:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}}),e=r.hmd(e);var n=function(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window||"undefined"!=typeof window?window:e)},431:function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(s=n))})),t.splice(s,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(r){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(623)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},623:function(e,t,r){e.exports=function(e){function t(e){let r,s=null;function a(...e){if(!a.enabled)return;const n=a,s=Number(new Date),o=s-(r||s);n.diff=o,n.prev=r,n.curr=s,r=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,s)=>{if("%%"===r)return"%";i++;const a=t.formatters[s];if("function"==typeof a){const t=e[i];r=a.call(n,t),e.splice(i,1),i--}return r})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null===s?t.enabled(e):s,set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(s),...t.skips.map(s).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(r=0;r<s;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(2),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={id:e,loaded:!1,exports:{}};return n[e](r,r.exports,a),r.loaded=!0,r.exports}a.m=n,a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,r){return a.f[r](e,t),t}),[]))},a.u=function(e){return"jp-search-configure-"+e+".min.js"},a.miniCssF=function(e){},a.miniCssF=(e=a.miniCssF,function(t){var r="rtl"===document.dir,n=e(t);return r?n.replace(".css",".rtl.css"):n}),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={},r="Jetpack:",a.l=function(e,n,s,o){if(t[e])t[e].push(n);else{var i,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var p=l[u];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==r+s){i=p;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",r+s),i.src=e),t[e]=[n];var h=function(r,n){i.onerror=i.onload=null,clearTimeout(d);var s=t[e];if(delete t[e],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((function(e){return e(n)})),r)return r(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),c&&document.head.appendChild(i)}},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e}(),function(){var e={179:0};a.f.j=function(t,r){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var s=new Promise((function(r,s){n=e[t]=[r,s]}));r.push(n[2]=s);var o=a.p+a.u(t),i=new Error;a.l(o,(function(r){if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,n[1](i)}}),"chunk-"+t,t)}};var t=function(t,r){var n,s,o=r[0],i=r[1],c=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)c(a)}for(t&&t(r);l<o.length;l++)s=o[l],a.o(e,s)&&e[s]&&e[s][0](),e[o[l]]=0},r=self.webpackChunkwebpack=self.webpackChunkwebpack||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};a.r(e),a.d(e,{disableComplementaryArea:function(){return S},enableComplementaryArea:function(){return k},pinItem:function(){return j},setFeatureDefaults:function(){return R},setFeatureValue:function(){return T},toggleFeature:function(){return O},unpinItem:function(){return x}});var t={};a.r(t),a.d(t,{getActiveComplementaryArea:function(){return N},isFeatureActive:function(){return F},isItemPinned:function(){return P}});var r=window.wp.element,n=window.wp.components,s=window.wp.data,o=window.wp.i18n;function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=a(105),l=a.n(c),u=window.wp.primitives;var p=(0,r.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(u.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"}));var h=(0,r.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(u.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}));var d=(0,r.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(u.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),m=window.wp.viewport;var f=(0,r.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(u.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),g=window.lodash;const y=(0,g.flow)([s.combineReducers])({features(e={},t){if("SET_FEATURE_DEFAULTS"===t.type){const{scope:r,defaults:n}=t;return{...e,[r]:{...e[r],...n}}}return e}}),v=(0,g.flow)([s.combineReducers])({features(e={},t){if("SET_FEATURE_VALUE"===t.type){const{scope:r,featureName:n,value:s}=t;return{...e,[r]:{...e[r],[n]:s}}}return e}}),_=(0,s.combineReducers)({singleEnableItems:function(e={},{type:t,itemType:r,scope:n,item:s}){return"SET_SINGLE_ENABLE_ITEM"===t&&r&&n?{...e,[r]:{...e[r],[n]:s||null}}:e},multipleEnableItems:function(e={},{type:t,itemType:r,scope:n,item:s,isEnable:a}){if("SET_MULTIPLE_ENABLE_ITEM"!==t||!r||!n||!s||(0,g.get)(e,[r,n,s])===a)return e;const o=e[r]||{},i=o[n]||{};return{...e,[r]:{...o,[n]:{...i,[s]:a||!1}}}}});var E=(0,s.combineReducers)({enableItems:_,preferenceDefaults:y,preferences:v});const b="core/interface";function w(e,t,r){return{type:"SET_SINGLE_ENABLE_ITEM",itemType:e,scope:t,item:r}}function k(e,t){return w("complementaryArea",e,t)}function S(e){return w("complementaryArea",e,void 0)}function C(e,t,r,n){return{type:"SET_MULTIPLE_ENABLE_ITEM",itemType:e,scope:t,item:r,isEnable:n}}function j(e,t){return C("pinnedItems",e,t,!0)}function x(e,t){return C("pinnedItems",e,t,!1)}function*O(e,t){const r=yield s.controls.select(b,"isFeatureActive",e,t);yield s.controls.dispatch(b,"setFeatureValue",e,t,!r)}function T(e,t,r){return{type:"SET_FEATURE_VALUE",scope:e,featureName:t,value:!!r}}function R(e,t){return{type:"SET_FEATURE_DEFAULTS",scope:e,defaults:t}}function N(e,t){return function(e,t,r){return(0,g.get)(e.enableItems.singleEnableItems,[t,r])}(e,"complementaryArea",t)}function P(e,t,r){return!1!==function(e,t,r,n){return(0,g.get)(e.enableItems.multipleEnableItems,[t,r,n])}(e,"pinnedItems",t,r)}function F(e,t,r){var n,s;const a=null===(n=e.preferences.features[t])||void 0===n?void 0:n[r];return!!(void 0!==a?a:null===(s=e.preferenceDefaults.features[t])||void 0===s?void 0:s[r])}const A=(0,s.createReduxStore)(b,{reducer:E,actions:e,selectors:t,persist:["enableItems","preferences"]});(0,s.registerStore)(b,{reducer:E,actions:e,selectors:t,persist:["enableItems","preferences"]});var I=(0,window.wp.plugins.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`})));var L=I((function({as:e=n.Button,scope:t,identifier:a,icon:o,selectedIcon:c,...l}){const u=e,p=(0,s.useSelect)((e=>e(A).getActiveComplementaryArea(t)===a),[a]),{enableComplementaryArea:h,disableComplementaryArea:d}=(0,s.useDispatch)(A);return(0,r.createElement)(u,i({icon:c&&p?c:o,onClick:()=>{p?d(t):h(t,a)}},(0,g.omit)(l,["name"])))}));var M=({smallScreenTitle:e,children:t,className:n,toggleButtonProps:s})=>{const a=(0,r.createElement)(L,i({icon:f},s));return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},e&&(0,r.createElement)("span",{className:"interface-complementary-area-header__small-title"},e),a),(0,r.createElement)("div",{className:l()("components-panel__header","interface-complementary-area-header",n),tabIndex:-1},t,a))};function z({name:e,as:t=n.Button,onClick:s,...a}){return(0,r.createElement)(n.Fill,{name:e},(({onClick:e})=>(0,r.createElement)(t,i({onClick:s||e?(...t)=>{(s||g.noop)(...t),(e||g.noop)(...t)}:void 0},a))))}z.Slot=function({name:e,as:t=n.ButtonGroup,fillProps:s={},bubblesVirtually:a,...o}){return(0,r.createElement)(n.Slot,{name:e,bubblesVirtually:a,fillProps:s},(e=>{if((0,g.isEmpty)(r.Children.toArray(e)))return null;const n=[];r.Children.forEach(e,(({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&n.push(t)}));const s=r.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&n.includes(e.props.__unstableTarget)?null:e));return(0,r.createElement)(t,o,s)}))};var $=z;const D=e=>(0,r.createElement)(n.MenuItem,(0,g.omit)(e,["__unstableExplicitMenuItem","__unstableTarget"]));function V({scope:e,target:t,__unstableExplicitMenuItem:n,...s}){return(0,r.createElement)(L,i({as:s=>(0,r.createElement)($,i({__unstableExplicitMenuItem:n,__unstableTarget:`${e}/${t}`,as:D,name:`${e}/plugin-more-menu`},s)),role:"menuitemcheckbox",selectedIcon:p,name:t,scope:e},s))}function U({scope:e,...t}){return(0,r.createElement)(n.Fill,i({name:`PinnedItems/${e}`},t))}U.Slot=function({scope:e,className:t,...s}){return(0,r.createElement)(n.Slot,i({name:`PinnedItems/${e}`},s),(e=>!(0,g.isEmpty)(e)&&(0,r.createElement)("div",{className:l()(t,"interface-pinned-items")},e)))};var H=U;function Q({scope:e,children:t,className:s}){return(0,r.createElement)(n.Fill,{name:`ComplementaryArea/${e}`},(0,r.createElement)("div",{className:s},t))}const B=I((function({children:e,className:t,closeLabel:a=(0,o.__)("Close plugin"),identifier:i,header:c,headerClassName:u,icon:f,isPinnable:g=!0,panelClassName:y,scope:v,name:_,smallScreenTitle:E,title:b,toggleShortcut:w,isActiveByDefault:k,showIconLabels:S=!1}){const{isActive:C,isPinned:j,activeArea:x,isSmall:O,isLarge:T}=(0,s.useSelect)((e=>{const{getActiveComplementaryArea:t,isItemPinned:r}=e(A),n=t(v);return{isActive:n===i,isPinned:r(v,i),activeArea:n,isSmall:e(m.store).isViewportMatch("< medium"),isLarge:e(m.store).isViewportMatch("large")}}),[i,v]);!function(e,t,n,a,o){const i=(0,r.useRef)(!1),c=(0,r.useRef)(!1),{enableComplementaryArea:l,disableComplementaryArea:u}=(0,s.useDispatch)(A);(0,r.useEffect)((()=>{a&&o&&!i.current?(u(e),c.current=!0):c.current&&!o&&i.current?(c.current=!1,l(e,t)):c.current&&n&&n!==t&&(c.current=!1),o!==i.current&&(i.current=o)}),[a,o,e,t,n])}(v,i,x,C,O);const{enableComplementaryArea:R,disableComplementaryArea:N,pinItem:P,unpinItem:F}=(0,s.useDispatch)(A);return(0,r.useEffect)((()=>{k&&void 0===x&&!O&&R(v,i)}),[x,k,v,i,O]),(0,r.createElement)(r.Fragment,null,g&&(0,r.createElement)(H,{scope:v},j&&(0,r.createElement)(L,{scope:v,identifier:i,isPressed:C&&(!S||T),"aria-expanded":C,label:b,icon:S?p:f,showTooltip:!S,variant:S?"tertiary":void 0})),_&&g&&(0,r.createElement)(V,{target:_,scope:v,icon:f},b),C&&(0,r.createElement)(Q,{className:l()("interface-complementary-area",t),scope:v},(0,r.createElement)(M,{className:u,closeLabel:a,onClose:()=>N(v),smallScreenTitle:E,toggleButtonProps:{label:a,shortcut:w,scope:v,identifier:i}},c||(0,r.createElement)(r.Fragment,null,(0,r.createElement)("strong",null,b),g&&(0,r.createElement)(n.Button,{className:"interface-complementary-area__pin-unpin-item",icon:j?h:d,label:j?(0,o.__)("Unpin from toolbar"):(0,o.__)("Pin to toolbar"),onClick:()=>(j?F:P)(v,i),isPressed:j,"aria-expanded":j}))),(0,r.createElement)(n.Panel,{className:y},e)))}));B.Slot=function({scope:e,...t}){return(0,r.createElement)(n.Slot,i({name:`ComplementaryArea/${e}`},t))};var q=B,W=window.wp.compose;var J=(0,r.forwardRef)((function({footer:e,header:t,sidebar:s,secondarySidebar:a,notices:c,content:u,drawer:p,actions:h,labels:d,className:m,shortcuts:f},g){const y=(0,n.__unstableUseNavigateRegions)(f);!function(e){(0,r.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const v={...{drawer:(0,o.__)("Drawer"),header:(0,o.__)("Header"),body:(0,o.__)("Content"),secondarySidebar:(0,o.__)("Block Library"),sidebar:(0,o.__)("Settings"),actions:(0,o.__)("Publish"),footer:(0,o.__)("Footer")},...d};return(0,r.createElement)("div",i({},y,{ref:(0,W.useMergeRefs)([g,y.ref]),className:l()(m,"interface-interface-skeleton",y.className,!!e&&"has-footer")}),!!p&&(0,r.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":v.drawer},p),(0,r.createElement)("div",{className:"interface-interface-skeleton__editor"},!!t&&(0,r.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":v.header,tabIndex:"-1"},t),(0,r.createElement)("div",{className:"interface-interface-skeleton__body"},!!a&&(0,r.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":v.secondarySidebar,tabIndex:"-1"},a),!!c&&(0,r.createElement)("div",{className:"interface-interface-skeleton__notices"},c),(0,r.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":v.body,tabIndex:"-1"},u),!!s&&(0,r.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":v.sidebar,tabIndex:"-1"},s),!!h&&(0,r.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":v.actions,tabIndex:"-1"},h))),!!e&&(0,r.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":v.footer,tabIndex:"-1"},e))}));const G="jetpack/search-customization",K="jetpack-customize-search/info",Y="jetpack-customize-search/options";var Z=a(900),X=a.n(Z);function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ee(e,t)}var re=window.React,ne=a.n(re),se=a(268),ae=a.n(se),oe=ne().createContext(null),ie=function(e){function t(t){var r;r=e.call(this,t)||this;var n=t.store;return r.state={storeState:n.getState(),store:n},r}te(t,e);var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0,this.subscribe()},r.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},r.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},r.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe((function(){var r=t.getState();e._isMounted&&e.setState((function(e){return e.storeState===r?null:{storeState:r}}))}));var r=t.getState();r!==this.state.storeState&&this.setState({storeState:r})},r.render=function(){var e=this.props.context||oe;return ne().createElement(e.Provider,{value:this.state},this.props.children)},t}(re.Component);ie.propTypes={store:ae().shape({subscribe:ae().func.isRequired,dispatch:ae().func.isRequired,getState:ae().func.isRequired}),context:ae().object,children:ae().any};var ce=ie;function le(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}var ue=a(266),pe=a.n(ue),he=a(546),de=a.n(he),me=a(364);function fe(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,s=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,a=r.methodName,o=void 0===a?"connectAdvanced":a,c=r.renderCountProp,l=void 0===c?void 0:c,u=r.shouldHandleStateChanges,p=void 0===u||u,h=r.storeKey,d=void 0===h?"store":h,m=r.withRef,f=void 0!==m&&m,g=r.forwardRef,y=void 0!==g&&g,v=r.context,_=void 0===v?oe:v,E=le(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);de()(void 0===l,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),de()(!f,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var b="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";de()("store"===d,"storeKey has been removed and does not do anything. "+b);var w=_;return function(t){var r=t.displayName||t.name||"Component",n=s(r),a=i({},E,{getDisplayName:s,methodName:o,renderCountProp:l,shouldHandleStateChanges:p,storeKey:d,displayName:n,wrappedComponentName:r,WrappedComponent:t}),c=E.pure,u=re.Component;c&&(u=re.PureComponent);var h=function(r){function s(t){var n,s,a,o,l,u,p,h,m,f,g;return n=r.call(this,t)||this,de()(y?!t.wrapperProps[d]:!t[d],"Passing redux store in props has been removed and does not do anything. "+b),n.selectDerivedProps=function(t,r,n,i){if(c&&s===r&&a===t)return o;n===l&&u===i||(l=n,u=i,p=e(n.dispatch,i)),s=r,a=t;var h=p(t,r);return o=h},n.selectChildElement=function(e,t,r){return t===h&&r===m&&g===e||(h=t,m=r,g=e,f=ne().createElement(e,i({},t,{ref:r}))),f},n.indirectRenderWrappedComponent=n.indirectRenderWrappedComponent.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}te(s,r);var o=s.prototype;return o.indirectRenderWrappedComponent=function(e){return this.renderWrappedComponent(e)},o.renderWrappedComponent=function(e){de()(e,'Could not find "store" in the context of "'+n+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+n+" in connect options.");var r,s=e.storeState,o=e.store,i=this.props;y&&(i=this.props.wrapperProps,r=this.props.forwardedRef);var c=this.selectDerivedProps(s,i,o,a);return this.selectChildElement(t,c,r)},o.render=function(){var e=this.props.context&&this.props.context.Consumer&&(0,me.isContextConsumer)(ne().createElement(this.props.context.Consumer,null))?this.props.context:w;return ne().createElement(e.Consumer,null,this.indirectRenderWrappedComponent)},s}(u);if(h.WrappedComponent=t,h.displayName=n,y){var m=ne().forwardRef((function(e,t){return ne().createElement(h,{wrapperProps:e,forwardedRef:t})}));return m.displayName=n,m.WrappedComponent=t,pe()(m,t)}return pe()(h,t)}}var ge=Object.prototype.hasOwnProperty;function ye(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function ve(e,t){if(ye(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++)if(!ge.call(t,r[s])||!ye(e[r[s]],t[r[s]]))return!1;return!0}var _e=a(276),Ee=function(){return Math.random().toString(36).substring(7).split("").join(".")},be={INIT:"@@redux/INIT"+Ee(),REPLACE:"@@redux/REPLACE"+Ee(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ee()}};function we(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ke(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function Se(e,t){return function(){return t(e.apply(this,arguments))}}function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(r,!0).forEach((function(t){Ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Te(e){return function(t,r){var n=e(t,r);function s(){return n}return s.dependsOnOwnProps=!1,s}}function Re(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Ne(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=Re(e);var s=n(t,r);return"function"==typeof s&&(n.mapToProps=s,n.dependsOnOwnProps=Re(s),s=n(t,r)),s},n}}var Pe=[function(e){return"function"==typeof e?Ne(e):void 0},function(e){return e?void 0:Te((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?Te((function(t){return function(e,t){if("function"==typeof e)return Se(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var s=e[n];"function"==typeof s&&(r[n]=Se(s,t))}return r}(e,t)})):void 0}];var Fe=[function(e){return"function"==typeof e?Ne(e):void 0},function(e){return e?void 0:Te((function(){return{}}))}];function Ae(e,t,r){return i({},r,e,t)}var Ie=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,s=r.pure,a=r.areMergedPropsEqual,o=!1;return function(t,r,i){var c=e(t,r,i);return o?s&&a(c,n)||(n=c):(o=!0,n=c),n}}}(e):void 0},function(e){return e?void 0:function(){return Ae}}];function Le(e,t,r,n){return function(s,a){return r(e(s,a),t(n,a),a)}}function Me(e,t,r,n,s){var a,o,i,c,l,u=s.areStatesEqual,p=s.areOwnPropsEqual,h=s.areStatePropsEqual,d=!1;function m(s,d){var m,f,g=!p(d,o),y=!u(s,a);return a=s,o=d,g&&y?(i=e(a,o),t.dependsOnOwnProps&&(c=t(n,o)),l=r(i,c,o)):g?(e.dependsOnOwnProps&&(i=e(a,o)),t.dependsOnOwnProps&&(c=t(n,o)),l=r(i,c,o)):y?(m=e(a,o),f=!h(m,i),i=m,f&&(l=r(i,c,o)),l):l}return function(s,u){return d?m(s,u):(i=e(a=s,o=u),c=t(n,o),l=r(i,c,o),d=!0,l)}}function ze(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,s=t.initMergeProps,a=le(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=r(e,a),i=n(e,a),c=s(e,a);return(a.pure?Me:Le)(o,i,c,e,a)}function $e(e,t,r){for(var n=t.length-1;n>=0;n--){var s=t[n](e);if(s)return s}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function De(e,t){return e===t}var Ve,Ue,He,Qe,Be,qe,We,Je,Ge,Ke,Ye,Ze,Xe=(He=(Ue=void 0===Ve?{}:Ve).connectHOC,Qe=void 0===He?fe:He,Be=Ue.mapStateToPropsFactories,qe=void 0===Be?Fe:Be,We=Ue.mapDispatchToPropsFactories,Je=void 0===We?Pe:We,Ge=Ue.mergePropsFactories,Ke=void 0===Ge?Ie:Ge,Ye=Ue.selectorFactory,Ze=void 0===Ye?ze:Ye,function(e,t,r,n){void 0===n&&(n={});var s=n,a=s.pure,o=void 0===a||a,c=s.areStatesEqual,l=void 0===c?De:c,u=s.areOwnPropsEqual,p=void 0===u?ve:u,h=s.areStatePropsEqual,d=void 0===h?ve:h,m=s.areMergedPropsEqual,f=void 0===m?ve:m,g=le(s,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),y=$e(e,qe,"mapStateToProps"),v=$e(t,Je,"mapDispatchToProps"),_=$e(r,Ke,"mergeProps");return Qe(Ze,i({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:y,initMapDispatchToProps:v,initMergeProps:_,pure:o,areStatesEqual:l,areOwnPropsEqual:p,areStatePropsEqual:d,areMergedPropsEqual:f},g))}),et=a(197),tt=a.n(et),rt=window.ReactDOM,nt=a(34),st=a.n(nt),at=a(27),ot=a.n(at);const __=o.__,it="__NO_GROUP__",ct="JetpackInstantSearchOptions",lt="jetpack-instant-search__overlay",ut="expanded",pt="product",ht="relevance",dt=["newest","oldest",ht,"price_asc","price_desc","rating_desc"],mt=[ut,"minimal",pt],ft=new Map([[ht,__("Relevance","jetpack")],["newest",__("Newest","jetpack")],["oldest",__("Oldest","jetpack")]]),gt=new Map([["price_asc",__("Price: low to high","jetpack")],["price_desc",__("Price: high to low","jetpack")],["rating_desc",__("Rating","jetpack")]]),yt=new Map([["jetpack_search_color_theme","colorTheme"],["jetpack_search_enable_sort","enableSort"],["jetpack_search_highlight_color","highlightColor"],["jetpack_search_inf_scroll","enableInfScroll"],["jetpack_search_overlay_trigger","overlayTrigger"],["jetpack_search_show_powered_by","showPoweredBy"],["jetpack_search_result_format","resultFormat"]]);function vt(){var e,t;return"function"==typeof(null===(e=window)||void 0===e||null===(t=e.wp)||void 0===t?void 0:t.customize)}class _t extends re.Component{constructor(...e){super(...e),tt()(this,"handleOverlayOptionsUpdate",(e=>{this.props.updateOverlayOptions(e,(()=>this.props.showResults()))}))}componentDidMount(){var e;e=this.handleOverlayOptionsUpdate,vt()&&yt.forEach(((t,r)=>{window.wp.customize(r,(r=>{r.bind((function(r){const n={[t]:r};window[ct].showResults=!0,window[ct].overlayOptions={...window[ct].overlayOptions,...n},e&&e(n)}))}))})),function(e){vt()&&window.addEventListener("message",(t=>{var r;t.data&&t.target===window&&"jetpackSearchSectionOpen"===(null===(r=t.data)||void 0===r?void 0:r.key)&&"expanded"in t.data&&e(t.data.expanded)}))}(this.props.toggleResults)}render(){return null}}class Et extends re.Component{constructor(){super(...arguments),tt()(this,"handleCompositionStart",(()=>this.setState({isComposing:!0}))),tt()(this,"handleCompositionEnd",(()=>this.setState({isComposing:!1}))),tt()(this,"handleFilterInputClick",(e=>{e.preventDefault(),e.currentTarget.dataset.filterType&&("taxonomy"===e.currentTarget.dataset.filterType?this.props.setFilter(e.currentTarget.dataset.taxonomy,e.currentTarget.dataset.val):this.props.setFilter(e.currentTarget.dataset.filterType,e.currentTarget.dataset.val)),this.props.setSearchQuery(""),this.props.showResults()})),tt()(this,"handleHistoryNavigation",(()=>{this.props.initializeQueryValues({isHistoryNavigation:!0})})),tt()(this,"handleInput",st()((e=>{var t,r;null!==(t=e.inputType)&&void 0!==t&&t.includes("format")||""===e.target.value||(this.state.isComposing||"submit"!==this.props.overlayOptions.overlayTrigger&&(this.props.setSearchQuery(e.target.value),"immediate"===this.props.overlayOptions.overlayTrigger&&this.props.showResults(),"results"===this.props.overlayOptions.overlayTrigger&&(null===(r=this.props.response)||void 0===r?void 0:r.results)&&this.props.showResults()))}),200)),tt()(this,"handleKeyup",(e=>{"Enter"===e.key&&(this.props.setSearchQuery(e.target.value),this.props.showResults())})),tt()(this,"handleOverlayTriggerClick",(e=>{e.stopImmediatePropagation(),this.props.setSearchQuery(""),this.props.showResults()})),tt()(this,"handleSubmit",(e=>{if(e.preventDefault(),this.handleInput.flush(),!this.props.isVisible){var t;const r=null===(t=e.target.querySelector(this.props.themeOptions.searchInputSelector))||void 0===t?void 0:t.value;"string"==typeof r&&this.props.setSearchQuery(r),this.props.showResults()}})),tt()(this,"fixBodyScroll",(()=>{var e;this.props.isVisible?(this.preventBodyScroll(),null===(e=window)||void 0===e||e.scrollTo(0,0)):this.props.isVisible||this.restoreBodyScroll()})),this.state={isComposing:!1,bodyScrollTop:0,previousStyle:null,previousBodyStyleAttribute:""},this.props.initializeQueryValues()}componentDidMount(){this.disableUnnecessaryFormAndInputAttributes(),this.addEventListeners()}componentWillUnmount(){this.removeEventListeners(),this.restoreBodyScroll()}componentDidUpdate(e){this.props.isVisible!==e.isVisible&&this.fixBodyScroll()}disableUnnecessaryFormAndInputAttributes(){document.querySelectorAll(this.props.themeOptions.searchInputSelector).forEach((e=>{e.removeAttribute("required"),e.removeAttribute("autocomplete"),e.form.removeAttribute("autocomplete")}))}addEventListeners(){window.addEventListener("popstate",this.handleHistoryNavigation),document.querySelectorAll(this.props.themeOptions.searchInputSelector).forEach((e=>{e.form.addEventListener("submit",this.handleSubmit),e.addEventListener("keyup",this.handleKeyup),e.addEventListener("input",this.handleInput),e.addEventListener("compositionstart",this.handleCompositionStart),e.addEventListener("compositionend",this.handleCompositionEnd)})),document.querySelectorAll(this.props.themeOptions.overlayTriggerSelector).forEach((e=>{e.addEventListener("click",this.handleOverlayTriggerClick,!0)})),document.querySelectorAll(this.props.themeOptions.filterInputSelector).forEach((e=>{e.addEventListener("click",this.handleFilterInputClick)}))}removeEventListeners(){window.removeEventListener("popstate",this.handleHistoryNavigation),document.querySelectorAll(this.props.themeOptions.searchInputSelector).forEach((e=>{e.form.removeEventListener("submit",this.handleSubmit),e.removeEventListener("keyup",this.handleKeyup),e.removeEventListener("input",this.handleInput),e.removeEventListener("compositionstart",this.handleCompositionStart),e.removeEventListener("compositionend",this.handleCompositionEnd)})),document.querySelectorAll(this.props.themeOptions.overlayTriggerSelector).forEach((e=>{e.removeEventListener("click",this.handleOverlayTriggerClick,!0)})),document.querySelectorAll(this.props.themeOptions.filterInputSelector).forEach((e=>{e.removeEventListener("click",this.handleFilterInputClick)}))}preventBodyScroll(){this.setState({bodyScrollTop:parseInt(window.scrollY)||0,previousStyle:{top:document.body.style.top,left:document.body.style.left,right:document.body.style.right,scrollBehavior:document.documentElement.style.scrollBehavior},previousBodyStyleAttribute:document.body.getAttribute("style")},(()=>{var e,t;const r=(null===(e=document.documentElement)||void 0===e?void 0:e.scrollHeight)-(null===(t=document.body)||void 0===t?void 0:t.scrollHeight)||0;document.body.setAttribute("style","position: fixed !important"),document.body.style.top=`-${this.state.bodyScrollTop-r}px`,document.body.style.left=0,document.body.style.right=0}))}restoreBodyScroll(){var e,t,r,n,s,a,o,i;this.state.previousBodyStyleAttribute?document.body.setAttribute("style",this.state.previousBodyStyleAttribute):document.body.removeAttribute("style"),document.body.style.top=null!==(e=null===(t=this.state.previousStyle)||void 0===t?void 0:t.top)&&void 0!==e?e:"",document.body.style.left=null!==(r=null===(n=this.state.previousStyle)||void 0===n?void 0:n.left)&&void 0!==r?r:"",document.body.style.right=null!==(s=null===(a=this.state.previousStyle)||void 0===a?void 0:a.right)&&void 0!==s?s:"",document.documentElement.style.scrollBehavior="revert",this.state.bodyScrollTop>0&&window.scrollTo(0,this.state.bodyScrollTop),document.documentElement.style.scrollBehavior=null!==(o=null===(i=this.state.previousStyle)||void 0===i?void 0:i.scrollBehavior)&&void 0!==o?o:"",this.setState({bodyScrollTop:0,previousStyle:null,previousBodyStyleAttribute:""})}render(){return null}}const bt=o.__;var wt=e=>{const{children:t,closeOverlay:r,colorTheme:n,hasOverlayWidgets:s,isVisible:a}=e,o=(i=r,e=>{"Escape"!==e.key&&"Esc"!==e.key||(e.preventDefault(),i())});var i;return(0,re.useEffect)((()=>(window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)})),[o]),ne().createElement("div",{"aria-hidden":!a,"aria-labelledby":"jetpack-instant-search__overlay-title",className:["jetpack-instant-search",lt,`jetpack-instant-search__overlay--${n}`,s?"":"jetpack-instant-search__overlay--no-sidebar",a?"":"is-hidden"].join(" "),role:"dialog"},ne().createElement("h1",{id:"jetpack-instant-search__overlay-title",className:"screen-reader-text"},bt("Search results","jetpack")),t)};const kt=o.__;class St extends re.Component{needsOffset(e,t){return["gridicons-calendar","gridicons-cart","gridicons-folder","gridicons-info","gridicons-posts","gridicons-star-outline","gridicons-star"].indexOf(e)>=0&&t%18==0}getSVGTitle(e){if("title"in this.props)return this.props.title?ne().createElement("title",null,this.props.title):null;switch(e){default:return null;case"gridicons-audio":return ne().createElement("title",null,kt("Has audio.","jetpack"));case"gridicons-calendar":return ne().createElement("title",null,kt("Is an event.","jetpack"));case"gridicons-cart":return ne().createElement("title",null,kt("Is a product.","jetpack"));case"chevron-down":return ne().createElement("title",null,kt("Show filters","jetpack"));case"gridicons-comment":return ne().createElement("title",null,kt("Matching comment.","jetpack"));case"gridicons-cross":return ne().createElement("title",null,kt("Close search results","jetpack"));case"gridicons-filter":return ne().createElement("title",null,kt("Toggle search filters.","jetpack"));case"gridicons-folder":return ne().createElement("title",null,kt("Category","jetpack"));case"gridicons-image-multiple":return ne().createElement("title",null,kt("Has multiple images.","jetpack"));case"gridicons-image":return ne().createElement("title",null,kt("Has an image.","jetpack"));case"gridicons-page":return ne().createElement("title",null,kt("Page","jetpack"));case"gridicons-post":return ne().createElement("title",null,kt("Post","jetpack"));case"gridicons-jetpack-search":case"gridicons-search":return ne().createElement("title",null,kt("Search","jetpack"));case"gridicons-tag":return ne().createElement("title",null,kt("Tag","jetpack"));case"gridicons-video":return ne().createElement("title",null,kt("Has a video.","jetpack"))}}renderIcon(e){switch(e){default:return null;case"gridicons-audio":return ne().createElement("g",null,ne().createElement("path",{d:"M8 4v10.184C7.686 14.072 7.353 14 7 14c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3V7h7v4.184c-.314-.112-.647-.184-1-.184-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3V4H8z"}));case"gridicons-block":return ne().createElement("g",null,ne().createElement("path",{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zM4 12c0-4.418 3.582-8 8-8 1.848 0 3.545.633 4.9 1.686L5.686 16.9C4.633 15.545 4 13.848 4 12zm8 8c-1.848 0-3.546-.633-4.9-1.686L18.314 7.1C19.367 8.455 20 10.152 20 12c0 4.418-3.582 8-8 8z"}));case"gridicons-calendar":return ne().createElement("g",null,ne().createElement("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.105 0-2 .896-2 2v13c0 1.104.895 2 2 2h14c1.104 0 2-.896 2-2V6c0-1.104-.896-2-2-2zm0 15H5V8h14v11z"}));case"gridicons-cart":return ne().createElement("g",null,ne().createElement("path",{d:"M9 20c0 1.1-.9 2-2 2s-1.99-.9-1.99-2S5.9 18 7 18s2 .9 2 2zm8-2c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm.396-5c.937 0 1.75-.65 1.952-1.566L21 5H7V4c0-1.105-.895-2-2-2H3v2h2v11c0 1.105.895 2 2 2h12c0-1.105-.895-2-2-2H7v-2h10.396z"}));case"gridicons-chevron-down":return ne().createElement("g",null,ne().createElement("path",{d:"M20 9l-8 8-8-8 1.414-1.414L12 14.172l6.586-6.586"}));case"gridicons-comment":return ne().createElement("g",null,ne().createElement("path",{d:"M3 6v9c0 1.105.895 2 2 2h9v5l5.325-3.804c1.05-.75 1.675-1.963 1.675-3.254V6c0-1.105-.895-2-2-2H5c-1.105 0-2 .895-2 2z"}));case"gridicons-cross":return ne().createElement("g",null,ne().createElement("path",{d:"M18.36 19.78L12 13.41l-6.36 6.37-1.42-1.42L10.59 12 4.22 5.64l1.42-1.42L12 10.59l6.36-6.36 1.41 1.41L13.41 12l6.36 6.36z"}));case"gridicons-filter":return ne().createElement("g",null,ne().createElement("path",{d:"M10 19h4v-2h-4v2zm-4-6h12v-2H6v2zM3 5v2h18V5H3z"}));case"gridicons-folder":return ne().createElement("g",null,ne().createElement("path",{d:"M18 19H6c-1.1 0-2-.9-2-2V7c0-1.1.9-2 2-2h3c1.1 0 2 .9 2 2h7c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2z"}));case"gridicons-image":return ne().createElement("g",null,ne().createElement("path",{d:"M13 9.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5-.672 1.5-1.5 1.5-1.5-.672-1.5-1.5zM22 6v12c0 1.105-.895 2-2 2H4c-1.105 0-2-.895-2-2V6c0-1.105.895-2 2-2h16c1.105 0 2 .895 2 2zm-2 0H4v7.444L8 9l5.895 6.55 1.587-1.85c.798-.932 2.24-.932 3.037 0L20 15.426V6z"}));case"gridicons-image-multiple":return ne().createElement("g",null,ne().createElement("path",{d:"M15 7.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5S17.328 9 16.5 9 15 8.328 15 7.5zM4 20h14c0 1.105-.895 2-2 2H4c-1.1 0-2-.9-2-2V8c0-1.105.895-2 2-2v14zM22 4v12c0 1.105-.895 2-2 2H8c-1.105 0-2-.895-2-2V4c0-1.105.895-2 2-2h12c1.105 0 2 .895 2 2zM8 4v6.333L11 7l4.855 5.395.656-.73c.796-.886 2.183-.886 2.977 0l.513.57V4H8z"}));case"gridicons-info":return ne().createElement("g",null,ne().createElement("path",{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}));case"gridicons-jetpack-search":return ne().createElement("g",null,ne().createElement("path",{d:"M0 9.257C0 4.15 4.151 0 9.257 0c5.105 0 9.256 4.151 9.256 9.257a9.218 9.218 0 01-2.251 6.045l.034.033h1.053L24 22.01l-1.986 1.989-6.664-6.662v-1.055l-.033-.033a9.218 9.218 0 01-6.06 2.264C4.15 18.513 0 14.362 0 9.257zm4.169 1.537h4.61V1.82l-4.61 8.973zm5.547-3.092v8.974l4.61-8.974h-4.61z"}));case"gridicons-pages":return ne().createElement("g",null,ne().createElement("path",{d:"M16 8H8V6h8v2zm0 2H8v2h8v-2zm4-6v12l-6 6H6c-1.105 0-2-.895-2-2V4c0-1.105.895-2 2-2h12c1.105 0 2 .895 2 2zm-2 10V4H6v16h6v-4c0-1.105.895-2 2-2h4z"}));case"gridicons-posts":return ne().createElement("g",null,ne().createElement("path",{d:"M16 19H3v-2h13v2zm5-10H3v2h18V9zM3 5v2h11V5H3zm14 0v2h4V5h-4zm-6 8v2h10v-2H11zm-8 0v2h5v-2H3z"}));case"gridicons-search":return ne().createElement("g",null,ne().createElement("path",{d:"M21 19l-5.154-5.154C16.574 12.742 17 11.42 17 10c0-3.866-3.134-7-7-7s-7 3.134-7 7 3.134 7 7 7c1.42 0 2.742-.426 3.846-1.154L19 21l2-2zM5 10c0-2.757 2.243-5 5-5s5 2.243 5 5-2.243 5-5 5-5-2.243-5-5z"}));case"gridicons-star-outline":return ne().createElement("g",null,ne().createElement("path",{d:"M12 6.308l1.176 3.167.347.936.997.042 3.374.14-2.647 2.09-.784.62.27.963.91 3.25-2.813-1.872-.83-.553-.83.552-2.814 1.87.91-3.248.27-.962-.783-.62-2.648-2.092 3.374-.14.996-.04.347-.936L12 6.308M12 2L9.418 8.953 2 9.257l5.822 4.602L5.82 21 12 16.89 18.18 21l-2.002-7.14L22 9.256l-7.418-.305L12 2z"}));case"gridicons-star":return ne().createElement("g",null,ne().createElement("path",{d:"M12 2l2.582 6.953L22 9.257l-5.822 4.602L18.18 21 12 16.89 5.82 21l2.002-7.14L2 9.256l7.418-.304"}));case"gridicons-tag":return ne().createElement("g",null,ne().createElement("path",{d:"M20 2.007h-7.087c-.53 0-1.04.21-1.414.586L2.592 11.5c-.78.78-.78 2.046 0 2.827l7.086 7.086c.78.78 2.046.78 2.827 0l8.906-8.906c.376-.374.587-.883.587-1.413V4.007c0-1.105-.895-2-2-2zM17.007 9c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2z"}));case"gridicons-video":return ne().createElement("g",null,ne().createElement("path",{d:"M20 4v2h-2V4H6v2H4V4c-1.105 0-2 .895-2 2v12c0 1.105.895 2 2 2v-2h2v2h12v-2h2v2c1.105 0 2-.895 2-2V6c0-1.105-.895-2-2-2zM6 16H4v-3h2v3zm0-5H4V8h2v3zm4 4V9l4.5 3-4.5 3zm10 1h-2v-3h2v3zm0-5h-2V8h2v3z"}))}}render(){const{size:e=24,className:t=""}=this.props,r=this.props.height||e,n=this.props.width||e,s=this.props.style||{height:r,width:n},a="gridicons-"+this.props.icon;let o=["gridicon",a,t];return this.needsOffset(a,e)&&o.push("needs-offset"),o=o.join(" "),ne().createElement("svg",{className:o,focusable:this.props.focusable,height:r,onClick:this.props.onClick,style:s,viewBox:"0 0 24 24",width:n,xmlns:"http://www.w3.org/2000/svg","aria-hidden":this.props["aria-hidden"]},this.getSVGTitle(a),this.renderIcon(a))}}tt()(St,"defaultProps",{"aria-hidden":"false",focusable:"true"});var Ct=St;var jt=({type:e,children:t})=>"warning"!==e?null:ne().createElement("div",{className:"jetpack-instant-search__notice jetpack-instant-search__notice--warning"},ne().createElement(Ct,{icon:"info",size:20}),t);const xt=o.__;class Ot extends re.Component{constructor(...e){super(...e),tt()(this,"overlayElement",document.getElementsByClassName(lt)[0]),tt()(this,"checkScroll",st()((()=>{this.props.enableLoadOnScroll&&window.innerHeight+this.overlayElement.scrollTop===this.overlayElement.scrollHeight&&this.props.onLoadNextPage()}),100))}componentDidMount(){this.overlayElement.addEventListener("scroll",this.checkScroll)}componentDidUnmount(){this.overlayElement.removeEventListener("scroll",this.checkScroll)}render(){return ne().createElement("button",{className:"jetpack-instant-search__scroll-button",disabled:this.props.isLoading,onClick:this.props.onLoadNextPage},this.props.isLoading?ne().createElement("span",null,xt("Loading…","jetpack")):ne().createElement("span",null,xt("Load more","jetpack")))}}var Tt=Ot;const Rt=o.__;class Nt extends re.Component{constructor(...e){super(...e),tt()(this,"handleKeyPress",(e=>{this.props.value!==e.currentTarget.value&&"Enter"===e.key&&(e.preventDefault(),this.props.onChange(e.currentTarget.dataset.value))})),tt()(this,"handleClick",(e=>{this.props.value!==e.currentTarget.value&&(e.preventDefault(),this.props.onChange(e.currentTarget.dataset.value))})),tt()(this,"handleSelectChange",(e=>{this.props.value!==e.currentTarget.value&&(e.preventDefault(),this.props.onChange(e.currentTarget.value))}))}render(){const e=function(e=null){return e!==pt?ft:new Map([...ft,...gt])}(this.props.resultFormat);return e.size>3?ne().createElement("div",{className:"jetpack-instant-search__search-sort jetpack-instant-search__search-sort-with-select"},ne().createElement("label",{htmlFor:"jetpack-instant-search__search-sort-select"},Rt("Sort:","jetpack")),ne().createElement("select",{id:"jetpack-instant-search__search-sort-select",onBlur:this.handleSelectChange,onChange:this.handleSelectChange},[...e.entries()].map((([e,t])=>ne().createElement("option",{value:e,key:e,selected:this.props.value===e?"selected":""},t))))):ne().createElement("div",{className:"jetpack-instant-search__search-sort jetpack-instant-search__search-sort-with-links"},ne().createElement("div",{className:"screen-reader-text"},Rt("Sort by: ","jetpack")),[...e.entries()].map((([e,t])=>ne().createElement("a",{className:"jetpack-instant-search__search-sort-option "+(this.props.value===e?"is-selected":""),"data-value":e,key:e,onClick:this.handleClick,onKeyPress:this.handleKeyPress,role:"button",tabIndex:0},t))))}}var Pt=e=>ne().createElement("div",{className:"jetpack-instant-search__search-form-controls"},e.children,e.enableSort&&ne().createElement(Nt,{onChange:e.onChangeSort,resultFormat:e.resultFormat,value:e.sort})),Ft=a(660),At=a.n(Ft);const It=o.__;let Lt=null;var Mt=e=>{var t;const[r]=(0,re.useState)((()=>At()("jetpack-instant-search__box-input-"))),n=(0,re.useRef)(null);return(0,re.useEffect)((()=>{var t;e.isVisible?(t=n.current,()=>{Lt=document.activeElement,t.focus()})():e.shouldRestoreFocus&&Lt&&Lt.focus()}),[e.isVisible,e.shouldRestoreFocus]),ne().createElement(re.Fragment,null,ne().createElement("div",{className:"jetpack-instant-search__box"},ne().createElement("label",{className:"jetpack-instant-search__box-label",htmlFor:r},ne().createElement("span",{className:"screen-reader-text assistive-text"},It("Site Search","jetpack")),ne().createElement("div",{className:"jetpack-instant-search__box-gridicon"},ne().createElement(Ct,{icon:"search",size:24})),ne().createElement("input",{autoComplete:"off",id:r,className:"search-field jetpack-instant-search__box-input",inputMode:"search",onChange:e.isVisible?e.onChange:null,ref:n,placeholder:It("Search…","jetpack"),type:"search",value:null!==(t=e.searchQuery)&&void 0!==t?t:""}),"string"==typeof e.searchQuery&&e.searchQuery.length>0&&ne().createElement("input",{type:"button",value:It("clear","jetpack"),onClick:e.onClear}),ne().createElement("button",{className:"screen-reader-text assistive-text"},It("Search","jetpack")))))};const zt=e=>e.preventDefault();class $t extends re.Component{constructor(...e){super(...e),tt()(this,"onClear",(()=>this.props.onChangeSearch(""))),tt()(this,"onChangeSearch",(e=>this.props.onChangeSearch(e.currentTarget.value)))}render(){return ne().createElement("form",{autocomplete:"off",onSubmit:zt,role:"search",className:this.props.className},ne().createElement("div",{className:"jetpack-instant-search__search-form"},ne().createElement(Mt,{isVisible:this.props.isVisible,onChange:this.onChangeSearch,onClear:this.onClear,shouldRestoreFocus:!0,searchQuery:this.props.searchQuery})))}}var Dt=$t;var Vt=({className:e,onClick:t,url:r})=>{const n=function(e){const t=e.split("/").filter((e=>e.length>0));return t.shift(),t}(r);return n.length<1?null:ne().createElement("div",{className:`jetpack-instant-search__path-breadcrumb ${e||""}`},ne().createElement("a",{className:"jetpack-instant-search__path-breadcrumb-link",href:`//${r}`,onClick:t},n.map(((e,t,r)=>ne().createElement("span",{className:"jetpack-instant-search__path-breadcrumb-piece"},decodeURIComponent(e),t!==r.length-1?" › ":"")))))};function Ut(e,t){Array.isArray(e)||(e=[e]);return 0!==e.filter((e=>t.includes(e))).length}const Ht=["youtube","ooyala","anvplayer","wpvideo","bc_video","video","brightcove","tp_video","jwplayer","tempo-video","vimeo"],Qt=["gallery","ione_media_gallery"],Bt=["audio","soundcloud"],qt={product:"cart",video:"video",gallery:"image-multiple",event:"calendar",events:"calendar"};var Wt=({postType:e,shortcodeTypes:t,iconSize:r=18})=>{if(Object.keys(qt).includes(e))return ne().createElement(Ct,{icon:qt[e],size:r});const n=Ut(t,Ht),s=Ut(t,Bt),a=Ut(t,Qt);if(n)return ne().createElement(Ct,{icon:"video",size:r});if(s)return ne().createElement(Ct,{icon:"audio",size:r});switch(e){case"page":return ne().createElement(Ct,{icon:"pages",size:r});default:if(a)return ne().createElement(Ct,{icon:"image-multiple",size:r})}return null};var Jt=({comments:e,iconSize:t=18})=>e?ne().createElement("div",{className:"jetpack-instant-search__search-result-comments"},ne().createElement(Ct,{icon:"comment",size:t}),ne().createElement("span",{className:"jetpack-instant-search__search-result-comments-text",dangerouslySetInnerHTML:{__html:e.join(" ... ")}})):null;class Gt extends re.Component{getIconSize(){return 18}getTags(){let e=this.props.result.fields["tag.name.default"];return e?(Array.isArray(e)||(e=[e]),e.slice(0,5)):[]}getCategories(){let e=this.props.result.fields["category.name.default"];return e?(Array.isArray(e)||(e=[e]),e.slice(0,5)):[]}renderNoMatchingContent(){const e=this.getTags(),t=this.getCategories(),r=0===e.length&&0===t.length;return ne().createElement("div",{className:"jetpack-instant-search__search-result-minimal-content"},r&&ne().createElement(Vt,{url:this.props.result.fields["permalink.url.raw"]}),ne().createElement("div",{className:"jetpack-instant-search__search-result-minimal-cats-and-tags"},0!==e.length&&ne().createElement("ul",{className:"jetpack-instant-search__search-result-minimal-tags"},e.map((e=>ne().createElement("li",{className:"jetpack-instant-search__search-result-minimal-tag"},ne().createElement(Ct,{icon:"tag",size:this.getIconSize()}),ne().createElement("span",{className:"jetpack-instant-search__search-result-minimal-tag-text"},e))))),0!==t.length&&ne().createElement("ul",{className:"jetpack-instant-search__search-result-minimal-cats"},t.map((e=>ne().createElement("li",{className:"jetpack-instant-search__search-result-minimal-cat"},ne().createElement(Ct,{icon:"folder",size:this.getIconSize()}),ne().createElement("span",{className:"jetpack-instant-search__search-result-minimal-cat-text"},e)))))))}renderMatchingContent(){return ne().createElement("div",{className:"jetpack-instant-search__search-result-minimal-content",dangerouslySetInnerHTML:{__html:this.props.result.highlight.content.join(" ... ")}})}render(){const{result_type:e,fields:t,highlight:r}=this.props.result;if("post"!==e)return null;const n=!r.content||""===r.content[0];return ne().createElement("li",{className:"jetpack-instant-search__search-result jetpack-instant-search__search-result-minimal"},ne().createElement("h3",{className:"jetpack-instant-search__search-result-title jetpack-instant-search__search-result-minimal-title"},ne().createElement(Wt,{postType:t.post_type,shortcodeTypes:t.shortcode_types}),ne().createElement("a",{className:"jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-minimal-title-link",href:`//${t["permalink.url.raw"]}`,onClick:this.props.onClick,dangerouslySetInnerHTML:{__html:r.title}})),n?this.renderNoMatchingContent():this.renderMatchingContent(),ne().createElement(Jt,{comments:r&&r.comments}))}}var Kt=Gt,Yt=a(213),Zt=a.n(Yt),Xt=a(211),er=a.n(Xt),tr=a(431);const rr=a.n(tr)()("photon"),nr={width:"w",height:"h",letterboxing:"lb",removeLetterboxing:"ulb"},sr="__domain__.invalid";function ar(e,t){let r;try{r=new URL(e,"http://__domain__.invalid")}catch{return null}const n="https:"===r.protocol,s=new URL("https://i0.wp.com");if(a=r.host,/^i[0-2]\.wp\.com$/.test(a))s.pathname=r.pathname,s.hostname=r.hostname;else{if(r.search)return null;let e=r.href.replace(`${r.protocol}/`,"");"blob:"===r.protocol&&(e=r.pathname.replace("://","//")),r.hostname===sr&&(e=r.pathname),s.pathname=e,s.hostname=function(e){const t=Zt()(e),r=er()(t),n="i"+Math.floor(3*r());return rr('determined server "%s" to use with "%s"',n,e),n+".wp.com"}(e),n&&s.searchParams.set("ssl",1)}var a;if(t)for(const o in t)"host"!==o&&"hostname"!==o?"secure"!==o||t[o]?s.searchParams.set(nr[o]||o,t[o]):s.protocol="http:":s.hostname=t[o];return rr("generated Photon URL: %s",s.href),s.href}var or=e=>{const{alt:t,isPhotonEnabled:r,maxHeight:n=600,maxWidth:s=600,src:a,lazyLoad:o=!0,...i}=e,c=(0,re.useRef)(),[l,u]=(0,re.useState)(null),p=function(e,t,r,n=!0){const[s,a]=(0,re.useState)(null),o=(i=e)?i.split("?",1)[0]:"";var i;const c=null==o?void 0:o.substring(o.lastIndexOf(".")+1).toLowerCase(),l=["gif","jpg","jpeg","png","webp"].includes(c);return(0,re.useEffect)((()=>{if(n&&l){const n=ar(o,{resize:`${t},${r}`});a(n||e)}else a(e)}),[e,t,r,n,o,l]),s}(a,s,n,r);return(0,re.useEffect)((()=>{if(!p)return;let e=null;return o&&"IntersectionObserver"in window?(e=new window.IntersectionObserver(((e,t)=>{for(const r of e)r.isIntersecting&&(u(p),t.unobserve(r.target))})),e.observe(c.current)):u(p),()=>{var t;null===(t=e)||void 0===t||t.disconnect()}}),[o,p]),ne().createElement("img",X()({alt:t,ref:c,src:l},i))},ir=a(78),cr=a.n(ir);const lr=e=>e.split(" ").join("T");class ur extends re.Component{constructor(...e){super(...e),tt()(this,"filtersList",(0,re.createRef)()),tt()(this,"idPrefix",At()("jetpack-instant-search__search-filter-")),tt()(this,"toggleFilter",(()=>{this.props.onChange(this.getIdentifier(),[...this.filtersList.current.querySelectorAll('input[type="checkbox"]').values()].filter((e=>e.checked)).map((e=>e.name)))})),tt()(this,"toggleStaticFilter",(e=>{this.props.onChange(this.getIdentifier(),e.target.value)})),tt()(this,"renderDate",(({key_as_string:e,doc_count:t})=>{const{locale:r="en-US"}=this.props;return ne().createElement("div",null,ne().createElement("input",{checked:this.isChecked(e),id:`${this.idPrefix}-dates-${this.getIdentifier()}-${e}`,name:e,onChange:this.toggleFilter,type:"checkbox",className:"jetpack-instant-search__search-filter-list-input"}),ne().createElement("label",{htmlFor:`${this.idPrefix}-dates-${this.getIdentifier()}-${e}`,className:"jetpack-instant-search__search-filter-list-label"},new Date(lr(e)).toLocaleString(r,function(e){switch(e){case"day":return{year:"numeric",month:"long",day:"numeric"};case"month":return{year:"numeric",month:"long"};case"year":return{year:"numeric"}}return{year:"numeric",month:"long"}}(this.props.configuration.interval))," ","(",t,")"))})),tt()(this,"renderPostType",(({key:e,doc_count:t})=>{const r=e in this.props.postTypes?this.props.postTypes[e].singular_name:e;return ne().createElement("div",null,ne().createElement("input",{checked:this.isChecked(e),id:`${this.idPrefix}-post-types-${e}`,name:e,onChange:this.toggleFilter,type:"checkbox",className:"jetpack-instant-search__search-filter-list-input"}),ne().createElement("label",{htmlFor:`${this.idPrefix}-post-types-${e}`,className:"jetpack-instant-search__search-filter-list-label"},cr()(r)," (",t,")"))})),tt()(this,"renderTaxonomy",(({key:e,doc_count:t})=>{const[r,n]=e&&e.split(/\/(.+)/);return ne().createElement("div",null,ne().createElement("input",{checked:this.isChecked(r),id:`${this.idPrefix}-taxonomies-${r}`,name:r,onChange:this.toggleFilter,type:"checkbox",className:"jetpack-instant-search__search-filter-list-input"}),ne().createElement("label",{htmlFor:`${this.idPrefix}-taxonomies-${r}`,className:"jetpack-instant-search__search-filter-list-label"},cr()(n)," (",t,")"))})),tt()(this,"renderGroup",(e=>ne().createElement("div",null,ne().createElement("input",{checked:this.isChecked(e.value),id:`${this.idPrefix}-groups-${e.value}`,name:this.props.configuration.filter_id,onChange:this.toggleStaticFilter,value:e.value,type:"radio",className:"jetpack-instant-search__search-filter-list-input"}),ne().createElement("label",{htmlFor:`${this.idPrefix}-groups-${e.value}`,className:"jetpack-instant-search__search-filter-list-label"},e.name))))}getIdentifier(){return"postType"===this.props.type?"post_types":"date"===this.props.type?`${this.props.configuration.interval}_${this.props.configuration.field}`:"taxonomy"===this.props.type?this.props.configuration.taxonomy:"group"===this.props.type?this.props.configuration.filter_id:void 0}isChecked(e){return Boolean(this.props.value&&this.props.value.includes(e))}renderDates(){return[...this.props.aggregation.buckets.filter((e=>!!e&&e.doc_count>0)).map(this.renderDate)].reverse().slice(0,this.props.configuration.count)}renderPostTypes(){return this.props.aggregation.buckets.map(this.renderPostType)}renderTaxonomies(){return this.props.aggregation.buckets.map(this.renderTaxonomy)}renderGroups(){return this.props.configuration.values.map(this.renderGroup)}render(){return ne().createElement("div",null,ne().createElement("h4",{className:"jetpack-instant-search__search-filter-sub-heading"},this.props.configuration.name),ne().createElement("div",{ref:this.filtersList},ne().createElement("div",{className:"jetpack-instant-search__search-filter-list jetpack-instant-search__search-static-filter-list"},"group"===this.props.type&&this.renderGroups()),this.props.aggregation&&"buckets"in this.props.aggregation&&ne().createElement("div",{className:"jetpack-instant-search__search-filter-list"},"date"===this.props.type&&this.renderDates(),"postType"===this.props.type&&this.renderPostTypes(),"taxonomy"===this.props.type&&this.renderTaxonomies())))}}function pr(e){const{isMultiSite:t,locale:r="en-US"}=e,{result_type:n,fields:s,highlight:a}=e.result;if("post"!==n)return null;const o=Array.isArray(s["image.url.raw"])?s["image.url.raw"][0]:s["image.url.raw"];return ne().createElement("li",{className:["jetpack-instant-search__search-result","jetpack-instant-search__search-result-expanded",`jetpack-instant-search__search-result-expanded--${s.post_type}`,o?"":"jetpack-instant-search__search-result-expanded--no-image",t?"is-multisite":""].join(" ")},ne().createElement("div",{className:"jetpack-instant-search__search-result-expanded__content-container"},ne().createElement("div",{className:"jetpack-instant-search__search-result-expanded__copy-container"},ne().createElement("h3",{className:"jetpack-instant-search__search-result-title jetpack-instant-search__search-result-expanded__title"},ne().createElement("a",{className:"jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-expanded__title-link",href:`//${s["permalink.url.raw"]}`,onClick:e.onClick,dangerouslySetInnerHTML:{__html:a.title}})),!t&&ne().createElement(Vt,{className:"jetpack-instant-search__search-result-expanded__path",onClick:e.onClick,url:`//${s["permalink.url.raw"]}`}),ne().createElement("div",{className:"jetpack-instant-search__search-result-expanded__content",dangerouslySetInnerHTML:{__html:a.content.join(" ... ")}}),a.comments&&ne().createElement(Jt,{comments:a.comments})),ne().createElement("a",{className:"jetpack-instant-search__search-result-expanded__image-link",href:`//${s["permalink.url.raw"]}`,onClick:e.onClick},ne().createElement("div",{className:"jetpack-instant-search__search-result-expanded__image-container"},o?ne().createElement(or,{alt:s["title.default"],className:"jetpack-instant-search__search-result-expanded__image",isPhotonEnabled:e.isPhotonEnabled,src:`//${o}`}):null))),t&&ne().createElement("ul",{className:"jetpack-instant-search__search-result-expanded__footer"},ne().createElement("li",null,ne().createElement(or,{alt:s.blog_name,className:"jetpack-instant-search__search-result-expanded__footer-blog-image",isPhotonEnabled:!1,height:24,width:24,src:s.blog_icon_url,lazyLoad:!1}),ne().createElement("span",{className:"jetpack-instant-search__search-result-expanded__footer-blog"},s.blog_name)),ne().createElement("li",null,ne().createElement("span",{className:"jetpack-instant-search__search-result-expanded__footer-author"},s.author)),ne().createElement("li",null,ne().createElement("span",{className:"jetpack-instant-search__search-result-expanded__footer-date"},new Date(lr(s.date)).toLocaleDateString(r,{year:"numeric",month:"short",day:"numeric"})))))}const _n=o._n;function hr({rating:e=0,count:t=0,permalink:r}){return ne().createElement("div",{className:"jetpack-instant-search__product-rating"},ne().createElement("span",{"aria-hidden":!0,className:"jetpack-instant-search__product-rating-stars"},Array(5).fill(ne().createElement(Ct,{size:16,icon:"star-outline"})).fill(ne().createElement(Ct,{size:16,icon:"star"}),0,e))," ",ne().createElement("a",{"aria-hidden":!0,className:"jetpack-instant-search__product-rating-count",href:r+"#reviews"},(0,o.sprintf)(_n("%d review","%d reviews",t,"jetpack"),t)),ne().createElement("span",{className:"screen-reader-text"},(0,o.sprintf)(_n("Average rating of %d out of 5 from %d review.","Average rating of %d out of 5 from %d reviews.",t,"jetpack"),Number(e).toFixed(2),t)))}class dr extends re.Component{render(){const{formattedPrice:e,formattedSalePrice:t,formattedRegularPrice:r,price:n,salePrice:s}=this.props;return n?ne().createElement("span",{className:"jetpack-instant-search__product-price"},s>0?ne().createElement(re.Fragment,null,ne().createElement("s",{className:"jetpack-instant-search__product-price-regular",dangerouslySetInnerHTML:{__html:r}}),ne().createElement("span",{dangerouslySetInnerHTML:{__html:t}})):ne().createElement("span",{dangerouslySetInnerHTML:{__html:e}})):null}}var mr=dr;const fr=o.__;class gr extends re.Component{render(){var e;const{result_type:t,fields:r,highlight:n}=this.props.result;if("post"!==t)return null;const s=Array.isArray(r["image.url.raw"])?r["image.url.raw"][0]:r["image.url.raw"],a=Array.isArray(n.title)&&n.title[0].length>0?n.title[0]:fr("No title","jetpack"),i="string"==typeof this.props.searchQuery&&""!==this.props.searchQuery.trim(),c=a.includes("<mark>"),l=i&&!c&&Array.isArray(n.content)&&(null===(e=n.content[0])||void 0===e?void 0:e.length)>0;return ne().createElement("li",{className:"jetpack-instant-search__search-result jetpack-instant-search__search-result-product"},ne().createElement("a",{className:"jetpack-instant-search__search-result-product-img-link",href:`//${r["permalink.url.raw"]}`,onClick:this.props.onClick},ne().createElement("div",{className:"jetpack-instant-search__search-result-product-img-container "+(s?"":"jetpack-instant-search__search-result-product-img-container--placeholder")},s?ne().createElement(or,{alt:r["title.default"],className:"jetpack-instant-search__search-result-product-img",isPhotonEnabled:this.props.isPhotonEnabled,src:`//${s}`}):ne().createElement("div",{className:"jetpack-instant-search__search-result-product-img"},ne().createElement(Ct,{icon:"block",style:{}}),ne().createElement(Ct,{icon:"image",style:{},title:fr("Does not have an image","jetpack")})))),ne().createElement("h3",{className:"jetpack-instant-search__search-result-title jetpack-instant-search__search-result-product-title"},ne().createElement("a",{className:"jetpack-instant-search__search-result-title-link",href:`//${r["permalink.url.raw"]}`,onClick:this.props.onClick,dangerouslySetInnerHTML:{__html:a}})),ne().createElement(mr,{price:r["wc.price"],salePrice:r["wc.sale_price"],formattedPrice:r["wc.formatted_price"],formattedRegularPrice:r["wc.formatted_regular_price"],formattedSalePrice:r["wc.formatted_sale_price"]}),!!r["meta._wc_average_rating.double"]&&ne().createElement(hr,{count:r["meta._wc_review_count.long"],rating:r["meta._wc_average_rating.double"],permalink:`//${r["permalink.url.raw"]}`}),l&&ne().createElement("div",{className:"jetpack-instant-search__search-result-product-match"},ne().createElement("mark",null,ne().createElement(Ct,{icon:"search",style:{},title:!1}),ne().createElement("span",null,(0,o.sprintf)(fr("Matches %s","jetpack"),fr("comment"in n?"comments":"content","jetpack"))))))}}var yr=gr;let vr=!0;const _r={};function Er(e=!1){(e||vr)&&(window._tkq=window._tkq||[])}function br(e,t=!1){(t||vr)&&(_r.blog_id=e)}function wr(e,t,r=!1){(r||vr)&&window._tkq.push(["recordEvent",e,{..._r,...t}])}function kr(e,t=!1){wr("jetpack_instant_search_traintracks_render",e,t)}class Sr extends re.Component{constructor(...e){super(...e),tt()(this,"onClick",(()=>{this.props.railcar&&function(e,t=!1){wr("jetpack_instant_search_traintracks_interact",e,t)}({...this.getCommonTrainTracksProps(),action:"click"})}))}componentDidMount(){this.props.railcar&&kr(this.getCommonTrainTracksProps())}componentDidUpdate(e){this.props.railcar!==e.railcar&&this.props.railcar&&kr(this.getCommonTrainTracksProps())}getCommonTrainTracksProps(){return{fetch_algo:this.props.railcar.fetch_algo,fetch_position:this.props.railcar.fetch_position,fetch_query:this.props.railcar.fetch_query,railcar:this.props.railcar.railcar,rec_blog_id:this.props.railcar.rec_blog_id,rec_post_id:this.props.railcar.rec_post_id,session_id:this.props.railcar.session_id,ui_algo:"jetpack-instant-search-ui/v1",ui_position:this.props.index}}render(){if(this.props.resultFormat===pt)return ne().createElement(yr,X()({onClick:this.onClick},this.props));if(this.props.resultFormat===ut){const e=this.props.staticFilters&&this.props.staticFilters.group_id&&this.props.staticFilters.group_id!==it;return ne().createElement(pr,X()({onClick:this.onClick},this.props,{isMultiSite:e}))}return ne().createElement(Kt,X()({onClick:this.onClick},this.props))}}var Cr=Sr;const jr=Object.freeze(["post_types","category","post_format","post_tag","month_post_date","month_post_date_gmt","month_post_modified","month_post_modified_gmt","year_post_date","year_post_date_gmt","year_post_modified","year_post_modified_gmt"]);function xr(e=(()=>{var e;return null===(e=window[ct])||void 0===e?void 0:e.widgets})(),t=(()=>{var e;return null===(e=window[ct])||void 0===e?void 0:e.widgetsOutsideOverlay})()){const r=new Set(jr);return[...null!=e?e:[],...null!=t?t:[]].map((e=>e.filters)).filter((e=>Array.isArray(e))).reduce(((e,t)=>e.concat(t)),[]).filter((e=>"taxonomy"===e.type)).forEach((e=>r.add(e.taxonomy))),[...r]}function Or(){var e;return null!==(e=window[ct])&&void 0!==e&&e.staticFilters?window[ct].staticFilters:[]}function Tr(){const e=Or(),t=new Set;return e.forEach((e=>t.add(e.filter_id))),[...t]}function Rr(e=(()=>{var e;return null===(e=window[ct])||void 0===e?void 0:e.widgets})()){const t=function(e=(()=>{var e;return null===(e=window[ct])||void 0===e?void 0:e.widgets})()){var t;return null!==(t=null==e?void 0:e.map(Nr).reduce(((e,t)=>e.concat(t)),[]))&&void 0!==t?t:[]}(e);return xr().filter((e=>!t.includes(e)))}function Nr(e){return e.filters.map(Pr).filter((e=>"string"==typeof e))}function Pr(e){return"date_histogram"===e.type?`${e.interval}_${e.field}`:"taxonomy"===e.type?`${e.taxonomy}`:"post_type"===e.type?"post_types":"group"===e.type?e.filter_id:null}function Fr(e){return e.includes("month")?{field:e.split("month_").pop(),type:"date_histogram",interval:"month"}:e.includes("year")?{field:e.split("year_").pop(),type:"date_histogram",interval:"year"}:"post_types"===e?{type:"post_type"}:"group"===e?{type:"group"}:{type:"taxonomy",taxonomy:e}}function Ar(e){return"date_histogram"===e.type?"date":"taxonomy"===e.type?"taxonomy":"post_type"===e.type?"postType":"group"===e.type?"group":void 0}function Ir(e,t=!0){return{type:"SET_SEARCH_QUERY",query:e,propagateToWindow:t}}function Lr(e,t=!0){return{type:"SET_SORT",sort:e,propagateToWindow:t}}function Mr(e,t,r=!0){return{type:"SET_FILTER",name:e,value:t,propagateToWindow:r}}function zr(e,t,r=!0){return{type:"SET_STATIC_FILTER",name:e,value:t,propagateToWindow:r}}function $r(e=!0){return{type:"CLEAR_FILTERS",propagateToWindow:e}}const Dr=o.__;class Vr extends re.Component{constructor(...e){super(...e),tt()(this,"onChangeFilter",((e,t)=>{this.props.setFilter(e,t),this.props.onChange&&this.props.onChange()})),tt()(this,"onChangeStaticFilter",((e,t)=>{!function(e,t=!1){wr("jetpack_instant_search_static_filter_select",e,t)}({filterName:e,filterValue:t}),this.props.setStaticFilter(e,t),this.props.onChange&&this.props.onChange()})),tt()(this,"onClearFilters",(e=>{e.preventDefault(),"click"!==e.type&&("keydown"!==e.type||"Enter"!==e.key&&" "!==e.key)||(this.props.clearFilters(),this.props.onChange&&this.props.onChange())})),tt()(this,"renderFilterComponent",(({configuration:e,results:t})=>t&&ne().createElement(ur,{aggregation:t,configuration:e,locale:this.props.locale,onChange:this.onChangeFilter,postTypes:this.props.postTypes,type:Ar(e),value:this.props.filters[Pr(e)]}))),tt()(this,"renderStaticFilterComponent",(e=>e.hasOwnProperty("visible")&&!e.visible?null:ne().createElement(ur,{aggregation:[],configuration:e,locale:this.props.locale,onChange:this.onChangeStaticFilter,postTypes:this.props.postTypes,type:Ar(e),value:this.props.staticFilters[Pr(e)]})))}hasActiveFilters(){return Object.keys(this.props.filters).length>0}render(){var e,t,r,n;if(!this.props.widget)return null;const s=Or(),a=null===(e=this.props.results)||void 0===e?void 0:e.aggregations;return ne().createElement("div",{className:"jetpack-instant-search__search-filters"},this.props.showTitle&&ne().createElement("div",{className:"jetpack-instant-search__search-filters-title"},Dr("Filter options","jetpack")),this.props.showClearFiltersButton&&this.hasActiveFilters()&&ne().createElement("a",{class:"jetpack-instant-search__clear-filters-link",href:"#",onClick:this.onClearFilters,onKeyDown:this.onClearFilters,role:"button",tabIndex:"0"},Dr("Clear filters","jetpack")),(null===(t=this.props.widget)||void 0===t?void 0:t.filters)&&this.props.widget.filters.length>0&&s.map(this.renderStaticFilterComponent),null===(r=this.props.widget)||void 0===r||null===(n=r.filters)||void 0===n?void 0:n.map((e=>a?{configuration:e,results:a[e.filter_id]}:null)).filter((e=>!!e)).filter((({results:e})=>!!e&&Array.isArray(e.buckets)&&e.buckets.length>0)).map(this.renderFilterComponent))}}tt()(Vr,"defaultProps",{showClearFiltersButton:!0,showTitle:!0});var Ur=Xe(null,{clearFilters:$r,setFilter:Mr,setStaticFilter:zr})(Vr);class Hr extends re.Component{constructor(...e){super(...e),tt()(this,"container",(0,re.createRef)())}componentDidMount(){const e=document.getElementsByClassName("jetpack-instant-search__widget-area")[0];e&&(e.style.removeProperty("display"),this.container.current.appendChild(e))}shouldComponentUpdate(){return!1}render(){return ne().createElement("div",{className:"jetpack-instant-search__widget-area-container",ref:this.container})}}const Qr=o.__,Br="#fff",qr=ne().createElement("svg",{className:"jetpack-instant-search__jetpack-colophon-logo",height:12,width:12,viewBox:"0 0 32 32"},ne().createElement("path",{className:"jetpack-logo__icon-circle",fill:"#069e08",d:"M16,0C7.2,0,0,7.2,0,16s7.2,16,16,16s16-7.2,16-16S24.8,0,16,0z"}),ne().createElement("polygon",{className:"jetpack-logo__icon-triangle",fill:Br,points:"15,19 7,19 15,3 "}),ne().createElement("polygon",{className:"jetpack-logo__icon-triangle",fill:Br,points:"17,29 17,13 25,13 "}));var Wr=e=>{const t="string"==typeof e.locale?e.locale.split("-",1)[0]:null,r=t&&"en"!==t?"https://"+t+".jetpack.com/search?utm_source=poweredby":"https://jetpack.com/search?utm_source=poweredby";return ne().createElement("div",{className:"jetpack-instant-search__jetpack-colophon"},ne().createElement("a",{href:r,rel:"external noopener noreferrer nofollow",target:"_blank",className:"jetpack-instant-search__jetpack-colophon-link"},qr,ne().createElement("span",{className:"jetpack-instant-search__jetpack-colophon-text"},Qr("Search powered by Jetpack","jetpack"))))};var Jr=e=>ne().createElement("div",{className:"jetpack-instant-search__sidebar"},ne().createElement(Ur,{filters:e.filters,staticFilters:e.staticFilters,loading:e.isLoading,locale:e.locale,postTypes:e.postTypes,results:e.response,showClearFiltersButton:!0,widget:e.widgetOutsideOverlay}),ne().createElement(Hr,null),e.widgets.map((t=>(0,rt.createPortal)(ne().createElement("div",{id:`${t.widget_id}-portaled-wrapper`,className:"jetpack-instant-search__portaled-wrapper"},ne().createElement(Ur,{filters:e.filters,staticFilters:e.staticFilters,loading:e.isLoading,locale:e.locale,postTypes:e.postTypes,results:e.response,showClearFiltersButton:!1,showTitle:!1,widget:t})),document.getElementById(`${t.widget_id}-wrapper`)))),e.showPoweredBy&&ne().createElement(Wr,{locale:e.locale}));const Gr=o.__,Kr=o._n,Yr=Gr,Zr=Kr;class Xr extends re.Component{constructor(...e){super(...e),tt()(this,"state",{shouldShowMobileSecondary:!1}),tt()(this,"toggleMobileSecondary",(e=>{"click"!==e.type&&("keydown"!==e.type||"Enter"!==e.key&&" "!==e.key)||(" "===e.key&&e.preventDefault(),this.setState((e=>({shouldShowMobileSecondary:!e.shouldShowMobileSecondary}))))})),tt()(this,"closeOverlay",(e=>{e.preventDefault(),this.props.closeOverlay()})),tt()(this,"onKeyPressHandler",(e=>{"Enter"===e.key&&(e.preventDefault(),this.props.closeOverlay())}))}hasFilterOptions(){var e,t;let r=[...this.props.widgets];return(null===(e=this.props.widgetOutsideOverlay)||void 0===e||null===(t=e.filters)||void 0===t?void 0:t.length)>0&&(r=[this.props.widgetOutsideOverlay,...r]),r.length>0}getSearchTitle(){const{total:e=0,corrected_query:t=!1}=this.props.response,r=""!==this.props.searchQuery,n=!1!==t,s=(new Intl.NumberFormat).format(e),a=this.props.staticFilters&&this.props.staticFilters.group_id&&this.props.staticFilters.group_id!==it;if(this.props.isLoading)return Yr(r?"Searching…":"Loading popular results…","jetpack");if(0===e||this.props.hasError)return Yr("No results found","jetpack");if(r&&n)return(0,o.sprintf)(Zr('Found %s result for "%s"','Found %s results for "%s"',e,"jetpack"),s,t);if(a){var i;const t=Or().filter((e=>"group_id"===e.filter_id)),r=1===t.length&&t[0].values?t[0].values.filter((e=>e.value!==it)):{},n=null!==(i=r[0])&&void 0!==i&&i.name?r[0].name:Yr("All P2","jetpack");return(0,o.sprintf)(Zr("Found %1$s result in %2$s","Found %1$s results in %2$s",e,"jetpack"),s,n)}return r?(0,o.sprintf)(Zr("Found %s result","Found %s results",e,"jetpack"),s,this.props.searchQuery):Yr("Showing popular results","jetpack")}renderPrimarySection(){const{highlightColor:e,searchQuery:t}=this.props,{results:r=[],total:n=0,corrected_query:s=!1}=this.props.response,a=function(e){const t=function(e){let t;return"#"===e[0]&&(t=e.substring(1)),3===t.length&&(t=t.split("").map((e=>`${e}${e}`)).join("")),t}(e);return(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3>=128?"black":"white"}(e),i=!1!==s,c=n>0;return ne().createElement(re.Fragment,null,ne().createElement("style",{dangerouslySetInnerHTML:{__html:`\n\t\t\t\t\t\t\t.jetpack-instant-search *::selection,\n\t\t\t\t\t\t\t.jetpack-instant-search .jetpack-instant-search__search-results .jetpack-instant-search__search-results-primary .jetpack-instant-search__search-result mark {\n\t\t\t\t\t\t\t\tcolor: ${a};\n\t\t\t\t\t\t\t\tbackground-color: ${e};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`}}),ne().createElement("div",{className:"jetpack-instant-search__search-results-title"},this.getSearchTitle()),c&&i&&ne().createElement("p",{className:"jetpack-instant-search__search-results-unused-query"},(0,o.sprintf)(Yr('No results for "%s"',"jetpack"),t)),this.props.hasError&&ne().createElement(jt,{type:"warning"},Yr("It looks like you're offline. Please reconnect for results.","jetpack")),c&&!this.props.hasError&&this.props.response._isOffline&&ne().createElement(jt,{type:"warning"},Yr("It looks like you're offline. Please reconnect to load the latest results.","jetpack")),c&&!this.props.hasError&&ne().createElement("ol",{className:`jetpack-instant-search__search-results-list is-format-${this.props.resultFormat}`},r.map(((e,t)=>ne().createElement(Cr,{index:t,staticFilters:this.props.staticFilters,isPhotonEnabled:this.props.isPhotonEnabled,locale:this.props.locale,railcar:this.props.isVisible?e.railcar:null,result:e,resultFormat:this.props.resultFormat,searchQuery:this.props.searchQuery})))),c&&this.props.hasNextPage&&ne().createElement("div",{className:"jetpack-instant-search__search-results-pagination"},ne().createElement(Tt,{enableLoadOnScroll:this.props.enableLoadOnScroll,isLoading:this.props.isLoading,onLoadNextPage:this.props.onLoadNextPage})))}renderSecondarySection(){return ne().createElement(Jr,{filters:this.props.filters,staticFilters:this.props.staticFilters,isLoading:this.props.isLoading,locale:this.props.locale,postTypes:this.props.postTypes,response:this.props.response,showPoweredBy:this.props.showPoweredBy,widgets:this.props.widgets,widgetOutsideOverlay:this.props.widgetOutsideOverlay})}render(){return ne().createElement("div",{"aria-hidden":!0===this.props.isLoading,"aria-live":"polite",className:"jetpack-instant-search__search-results"},ne().createElement("div",{className:"jetpack-instant-search__search-results-controls"},ne().createElement(Dt,{className:"jetpack-instant-search__search-results-search-form",isVisible:this.props.isVisible,onChangeSearch:this.props.onChangeSearch,searchQuery:this.props.searchQuery}),ne().createElement("button",{className:"jetpack-instant-search__overlay-close",onClick:this.closeOverlay,onKeyPress:this.onKeyPressHandler,tabIndex:"0","aria-label":Yr("Close search results","jetpack")},ne().createElement(Ct,{icon:"cross",size:"24","aria-hidden":"true",focusable:"false"}))),ne().createElement(Pt,{enableSort:this.props.enableSort,onChangeSort:this.props.onChangeSort,resultFormat:this.props.resultFormat,sort:this.props.sort},(this.hasFilterOptions()||this.props.hasNonSearchWidgets)&&ne().createElement("div",{role:"button",onClick:this.toggleMobileSecondary,onKeyDown:this.toggleMobileSecondary,tabIndex:"0",className:"jetpack-instant-search__search-results-filter-button"},Yr("Filters","jetpack"),ne().createElement(Ct,{icon:"chevron-down",size:16,alt:Yr("Show search filters","jetpack"),"aria-hidden":"true"}),ne().createElement("span",{className:"screen-reader-text assistive-text"},this.state.shouldShowMobileSecondary?Yr("Hide filters","jetpack"):Yr("Show filters","jetpack")))),ne().createElement("div",{className:"jetpack-instant-search__search-results-content"},ne().createElement("div",{className:"jetpack-instant-search__search-results-primary"},this.renderPrimarySection()),ne().createElement("div",{className:["jetpack-instant-search__search-results-secondary",(this.state.shouldShowMobileSecondary?"jetpack-instant-search__search-results-secondary--show-as-modal":"")+" "].join(" ")},this.renderSecondarySection())))}}var en=Xr;function tn(e,t){var r,n,s,a="";for(r in e)if(void 0!==(s=e[r]))if(Array.isArray(s))for(n=0;n<s.length;n++)a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(s[n]);else a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(s);return(t||"")+a}function rn(e,t,r){if(!e)return"";const n=decodeURIComponent(e);return(!t||"false"!==n)&&(!(!t||"true"!==n)||(r&&0*+n==0?+n:n))}function nn(e=window.location.search){return function(e,t,r){let n,s;const a={},o=e.split("&");for(t=void 0===t||t,r=void 0===r||r;n=o.shift();)n=n.split("="),s=n.shift(),void 0!==a[s]?a[s]=[].concat(a[s],rn(n.shift(),t,r)):a[s]=rn(n.shift(),t,r);return a}(e.substring(1),!1,!1)}function sn(e){!function(e){if(history.pushState){const t=new window.URL(window.location.href);window[ct]&&"homeUrl"in window[ct]&&(t.href=window[ct].homeUrl),t.search=e,window.history.pushState(null,null,t.toString())}}(tn(e))}function an(e){return e.response}function on(e){return e.hasError}function cn(e){var t;return!on(e)&&(null===(t=an(e))||void 0===t?void 0:t.page_handle)}function ln(e){return e.isLoading}function un(e){return e.searchQuery}function pn(e,t){return"string"!=typeof t&&(t=ht),"string"==typeof e.sort?e.sort:t}function hn(e){return e.filters}function dn(e){return e.staticFilters}function mn(e){return null!==un(e)||function(e){return Object.keys(e.filters).length>0}(e)||function(e){return Object.keys(e.staticFilters).length>0}(e)||null!==e.sort}function fn(e){if(!e.serverOptions.widgets||!e.filters)return{};const t=Rr(e.serverOptions.widgets);return{filters:Object.keys(e.filters).filter((e=>t.includes(e))).map(Fr)}}function gn(e){return e.isHistoryNavigation}class yn extends re.Component{constructor(){super(...arguments),tt()(this,"getResultFormat",(()=>{const e=function(){const e=nn();return mt.includes(e.result_format)?e.result_format:null}();return this.props.staticFilters&&this.props.staticFilters.group_id&&this.props.staticFilters.group_id!==it?ut:e||this.state.overlayOptions.resultFormat})),tt()(this,"initializeStaticFilters",(()=>{const e=Or();e.length>0&&0===Object.keys(this.props.staticFilters).length&&e.forEach((e=>this.props.setStaticFilter(e.filter_id,e.selected,!0)))})),tt()(this,"hideResults",(e=>{this.props.shouldIntegrateWithDom&&function(e,t,r=!1){if(history.pushState&&history.replaceState){const n=new URL(e),s=nn(n.search),a=[...xr(),...Tr(),"s","sort"],o=Object.keys(s).some((e=>a.includes(e)));if(o&&a.forEach((e=>delete s[e])),n.search=tn(s),r?window.history.replaceState(null,null,n.toString()):window.history.pushState(null,null,n.toString()),o)return void window.location.reload();t()}}(this.props.initialHref,(()=>{this.setState({isVisible:!1}),this.props.clearQueryValues()}),e)})),tt()(this,"toggleResults",(e=>{this.props.shouldIntegrateWithDom&&this.state.isVisible!==e&&(e&&this.initializeStaticFilters(),this.setState({isVisible:e}))})),tt()(this,"showResults",this.toggleResults.bind(this,!0)),tt()(this,"onChangeQueryString",(e=>{this.getResults(),this.props.hasActiveQuery&&!this.state.isVisible&&this.showResults(),!this.props.hasActiveQuery&&e&&this.hideResults(e),null!==this.props.searchQuery&&document.querySelectorAll(this.props.themeOptions.searchInputSelector).forEach((e=>{e.value=this.props.searchQuery}))})),tt()(this,"loadNextPage",(()=>{this.props.hasNextPage&&this.getResults({pageHandle:this.props.response.page_handle})})),tt()(this,"getResults",(({pageHandle:e}={})=>{this.props.makeSearchRequest({aggregations:e?{}:this.props.aggregations,excludedPostTypes:this.state.overlayOptions.excludedPostTypes,filter:this.props.filters,staticFilters:this.props.staticFilters,pageHandle:e,query:this.props.searchQuery,resultFormat:this.getResultFormat(),siteId:this.props.options.siteId,sort:this.props.sort,postsPerPage:this.props.options.postsPerPage,adminQueryFilter:this.props.options.adminQueryFilter,isInCustomizer:this.props.isInCustomizer})})),tt()(this,"updateOverlayOptions",((e,t)=>{this.setState((t=>({overlayOptionsCustomizerOverride:{...t.overlayOptionsCustomizerOverride,...e}})),t)})),this.state={isVisible:!!this.props.initialIsVisible,overlayOptionsCustomizerOverride:{}},this.getResults=st()(this.getResults,200),this.props.enableAnalytics?this.initializeAnalytics():vr=!1,this.props.shouldIntegrateWithDom?this.props.initializeQueryValues():this.props.disableQueryStringIntegration()}static getDerivedStateFromProps(e,t){return{overlayOptions:{...e.overlayOptions,...t.overlayOptionsCustomizerOverride}}}componentDidMount(){this.getResults(),this.props.hasActiveQuery&&this.showResults()}componentDidUpdate(e,t){e.searchQuery===this.props.searchQuery&&e.sort===this.props.sort&&ot()(e.filters)===ot()(this.props.filters)&&ot()(e.staticFilters)===ot()(this.props.staticFilters)||this.onChangeQueryString(this.props.isHistoryNavigation),t.overlayOptions.defaultSort!==this.state.overlayOptions.defaultSort&&this.props.setSort(this.state.overlayOptions.defaultSort),ot()(t.overlayOptions.excludedPostTypes)!==ot()(this.state.overlayOptions.excludedPostTypes)&&this.getResults()}initializeAnalytics(){Er(),function(e=!1){(e||vr)&&window._tkq.push(["clearIdentity"])}(),br(this.props.options.siteId)}render(){const e=this.getResultFormat(),t=this.props.shouldCreatePortal?rt.createPortal:e=>e;return ne().createElement(re.Fragment,null,this.props.isInCustomizer&&ne().createElement(_t,{showResults:this.showResults,toggleResults:this.toggleResults,updateOverlayOptions:this.updateOverlayOptions}),this.props.shouldIntegrateWithDom&&ne().createElement(Et,{initializeQueryValues:this.props.initializeQueryValues,isVisible:this.state.isVisible,overlayOptions:this.state.overlayOptions,setFilter:this.props.setFilter,setSearchQuery:this.props.setSearchQuery,showResults:this.showResults,themeOptions:this.props.themeOptions}),t(ne().createElement(wt,{closeColor:this.state.overlayOptions.closeColor,closeOverlay:this.hideResults,colorTheme:this.state.overlayOptions.colorTheme,hasOverlayWidgets:this.props.hasOverlayWidgets,isVisible:this.state.isVisible},ne().createElement(en,{closeOverlay:this.hideResults,enableLoadOnScroll:this.state.overlayOptions.enableInfScroll,enableSort:this.state.overlayOptions.enableSort,filters:this.props.filters,staticFilters:this.props.staticFilters,hasError:this.props.hasError,hasNextPage:this.props.hasNextPage,highlightColor:this.state.overlayOptions.highlightColor,isLoading:this.props.isLoading,isPhotonEnabled:this.props.options.isPhotonEnabled,isPrivateSite:this.props.options.isPrivateSite,isVisible:this.state.isVisible,locale:this.props.options.locale,onChangeSearch:this.props.setSearchQuery,onChangeSort:this.props.setSort,onLoadNextPage:this.loadNextPage,overlayTrigger:this.state.overlayOptions.overlayTrigger,postTypes:this.props.options.postTypes,response:this.props.response,resultFormat:e,searchQuery:this.props.searchQuery,showPoweredBy:this.state.overlayOptions.showPoweredBy,sort:this.props.sort,widgets:this.props.options.widgets,widgetOutsideOverlay:this.props.widgetOutsideOverlay,hasNonSearchWidgets:this.props.options.hasNonSearchWidgets})),document.body))}}tt()(yn,"defaultProps",{overlayOptions:{},widgets:[]});var vn=Xe(((e,t)=>({filters:hn(e),staticFilters:dn(e),hasActiveQuery:mn(e),hasError:on(e),isHistoryNavigation:gn(e),hasNextPage:cn(e),isLoading:ln(e),response:an(e),searchQuery:un(e),sort:pn(e,t.overlayOptions.defaultSort),widgetOutsideOverlay:fn(e)})),{clearQueryValues:function(){return{type:"CLEAR_QUERY_VALUES"}},disableQueryStringIntegration:function(){return{type:"DISABLE_QUERY_STRING_INTEGRATION"}},initializeQueryValues:function({isHistoryNavigation:e=!1}={}){return{type:"INITIALIZE_QUERY_VALUES",isHistoryNavigation:e}},makeSearchRequest:function(e){return{type:"MAKE_SEARCH_REQUEST",options:e}},setStaticFilter:zr,setFilter:Mr,setSearchQuery:Ir,setSort:Lr})(yn),En=a(601),bn=a.n(En),wn=a(118);class kn{constructor(e=0,t=0){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.size=0,this.ttl=t}has(e){return e in this.items}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(e){if(this.has(e)){const t=this.items[e];delete this.items[e],this.size--,null!==t.prev&&(t.prev.next=t.next),null!==t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev)}return this}evict(){const e=this.first;return delete this.items[e.key],this.first=e.next,this.first.prev=null,this.size--,this}get(e){let t;if(this.has(e)){const r=this.items[e];this.ttl>0&&r.expiry<=(new Date).getTime()?this.delete(e):(t=r.value,this.set(e,t,!0))}return t}keys(){return Object.keys(this.items)}set(e,t,r=!1){let n;if(r||this.has(e)){if(n=this.items[e],n.value=t,!1===r&&(n.expiry=this.ttl>0?(new Date).getTime()+this.ttl:this.ttl),this.last!==n){const e=this.last,t=n.next,r=n.prev;this.first===n&&(this.first=n.next),n.next=null,n.prev=this.last,e.next=n,null!==r&&(r.next=t),null!==t&&(t.prev=r)}}else this.max>0&&this.size===this.max&&this.evict(),n=this.items[e]={expiry:this.ttl>0?(new Date).getTime()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t},1==++this.size?this.first=n:this.last.next=n;return this.last=n,this}}function Sn(e=1e3,t=0){if(isNaN(e)||e<0)throw new TypeError("Invalid max value");if(isNaN(t)||t<0)throw new TypeError("Invalid ttl value");return new kn(e,t)}let Cn;const jn=Sn(30,3e5),xn=Sn(30,18e5);$n();const On=/(\d{4})-(\d{2})-(\d{2})/;function Tn(e,t,r){let n,s;"year"===r&&([,n,,]=t.match(On)),"month"===r&&([,n,s]=t.match(On));let a="",o="";if(s){const e=+s+1,t=e<10?`0${e}`:`${e}`;a=`${n}-${s}-01`,o=e<=12?`${n}-${t}-01`:+n+1+"-01-01"}else n&&(a=`${n}-01-01`,o=+n+1+"-01-01");return{range:{[e]:{gte:a,lt:o}}}}const Rn=new Map([["post_types",e=>({term:{post_type:e}})],["category",e=>({term:{"category.slug":e}})],["post_tag",e=>({term:{"tag.slug":e}})],["month_post_date",e=>Tn("date",e,"month")],["month_post_date_gmt",e=>Tn("date_gmt",e,"month")],["month_post_modified",e=>Tn("date",e,"month")],["month_post_modified_gmt",e=>Tn("date_gmt",e,"month")],["year_post_date",e=>Tn("date",e,"year")],["year_post_date_gmt",e=>Tn("date_gmt",e,"year")],["year_post_modified",e=>Tn("date",e,"year")],["year_post_modified_gmt",e=>Tn("date_gmt",e,"year")]]);function Nn(e){const t={};return Object.keys(e).forEach((r=>{const n=e[r];"group_id"===r&&n!==it&&(t[r]=n)})),t}function Pn(e,t,r){const n={bool:{must:[]}};return xr().filter((t=>{return r=e[t],Array.isArray(r)&&r.length>0;var r})).forEach((t=>{e[t].forEach((e=>{Rn.has(t)?n.bool.must.push(Rn.get(t)(e)):n.bool.must.push({term:{[`taxonomy.${t}.slug`]:e}})}))})),t&&n.bool.must.push(t),(null==r?void 0:r.length)>0&&n.bool.must.push({bool:{must_not:r.map((e=>Rn.get("post_types")(e)))}}),n}const Fn=new Map([["oldest","date_asc"],["newest","date_desc"],["relevance","score_default"]]);function An(e){return["price_asc","price_desc","rating_desc"].includes(e)?e:Fn.get(e,"score_default")}function In({aggregations:e,excludedPostTypes:t,filter:r,staticFilters:n,pageHandle:s,query:a,resultFormat:o,sort:i,postsPerPage:c=10,adminQueryFilter:l,isInCustomizer:u=!1}){null===a&&(a="");let p=["date","permalink.url.raw","tag.name.default","category.name.default","post_type","has.image","shortcode_types","image.url.raw"];(o===pt||u)&&(p=p.concat(["meta._wc_average_rating.double","meta._wc_review_count.long","wc.formatted_price","wc.formatted_regular_price","wc.formatted_sale_price","wc.price","wc.sale_price"])),n&&n.group_id&&n.group_id!==it&&(p=p.concat(["author","blog_name","blog_icon_url"]));let h={aggregations:e,fields:p,highlight_fields:["title","content","comments"],filter:Pn(r,l,t),query:encodeURIComponent(a),sort:An(i),page_handle:s,size:c};return n&&Object.keys(n).length>0&&(h={...h,...Nn(n)}),tn((0,wn.x)(h))}function Ln(e,t){return new Promise((function(r,n){e({path:t,apiVersion:"1.3"},(function(e,t,s){e&&n(e),r(t,s)}))}))}function Mn(e){return function(t){const r=jn.get(e)||xn.get(e);if("AbortError"===t.name)return r?{_isCached:!0,_isError:!1,_isOffline:!1,...r}:null;if(r)return{_isCached:!0,_isError:!0,_isOffline:!1,...r};throw t}}function zn(e,t){return function(r){const n={...r,requestId:t};return jn.set(e,n),xn.set(e,n),n}}function $n(){Cn&&Cn.abort(),Cn=new AbortController}let Dn=0,Vn=!0;var Un={CLEAR_FILTERS:function(e){if(!1===e.propagateToWindow||!Vn)return;const t=nn();xr().forEach((e=>delete t[e])),Tr().forEach((e=>delete t[e])),sn(t)},DISABLE_QUERY_STRING_INTEGRATION:function(){Vn=!1},INITIALIZE_QUERY_VALUES:function(e,t){const r=nn();let n;"s"in r?t.dispatch(Ir(r.s,!1)):t.dispatch(Ir(null,!1)),dt.includes(r.sort)?n=r.sort:"date"===r.orderby?n="string"==typeof r.order&&"ASC"===r.order.toUpperCase()?"oldest":"newest":"relevance"===r.orderby&&(n="relevance"),"string"==typeof n&&t.dispatch(Lr(n,!1)),t.dispatch($r(!1)),xr().filter((e=>e in r)).forEach((e=>t.dispatch(Mr(e,r[e],!1)))),Tr().filter((e=>e in r)).forEach((e=>t.dispatch(zr(e,r[e],!1))))},MAKE_SEARCH_REQUEST:function(e,t){Dn++,function(e,t){const r=ot()(Array.from(arguments));if(!navigator.onLine&&xn.get(r))return Promise.resolve(xn.get(r)).then((e=>({_isCached:!0,_isError:!1,_isOffline:!0,...e})));if(jn.get(r))return Promise.resolve(jn.get(r)).then((e=>({_isCached:!0,_isError:!1,_isOffline:!1,...e})));const n=In(e),s=Mn(r),o=zn(r,t),i=`/sites/${e.siteId}/search?${n}`,{apiNonce:c,apiRoot:l,isPrivateSite:u,isWpcom:p}=window[ct];if(u&&p)return a.e(52).then(a.bind(a,52)).then((({default:e})=>Ln(e,i).catch(s).then(o)));const h=`https://public-api.wordpress.com/rest/v1.3${i}`,d=`${l}wpcom/v2/search?${n}`,m=u?d:h;return $n(),fetch(m,{headers:u?{"X-WP-Nonce":c}:{},credentials:u?"include":"same-origin",signal:Cn.signal}).then((e=>200!==e.status?Promise.reject(`Unexpected response from API with status code ${e.status}.`):e)).then((e=>e.json())).then(o).catch(s)}(e.options,Dn).then((r=>{null!==r&&t.dispatch(function({options:e,response:t}){return{type:"RECORD_SUCCESSFUL_SEARCH_REQUEST",options:e,response:t}}({options:e.options,response:r}))})).catch((e=>{console.error("Jetpack Search encountered an error:",e),t.dispatch(function(e){return{type:"RECORD_FAILED_SEARCH_REQUEST",error:e}}(e))}))},SET_FILTER:function(e){if(!1===e.propagateToWindow||!Vn)return;if(!xr().includes(e.name))return;const t=nn();t[e.name]=e.value,sn(t)},SET_STATIC_FILTER:function(e){if(!1===e.propagateToWindow)return;if(!Tr().includes(e.name))return;const t=nn();t[e.name]=e.value,sn(t)},SET_SEARCH_QUERY:function(e){if(!1===e.propagateToWindow||!Vn)return;const t=nn();null!==e.query?t.s=e.query:delete t.s,sn(t)},SET_SORT:function(e){if(!1===e.propagateToWindow||!Vn)return;if(!dt.includes(e.sort))return;const t=nn();t.sort=e.sort,delete t.order,delete t.orderby,sn(t)}};var Hn=function e(t,r,n){var s;if("function"==typeof r&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof r&&void 0===n&&(n=r,r=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(e)(t,r)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var a=t,o=r,i=[],c=i,l=!1;function u(){c===i&&(c=i.slice())}function p(){if(l)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function h(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(l)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return u(),c.push(e),function(){if(t){if(l)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,u();var r=c.indexOf(e);c.splice(r,1),i=null}}}function d(e){if(!we(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,o=a(o,e)}finally{l=!1}for(var t=i=c,r=0;r<t.length;r++){(0,t[r])()}return e}function m(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");a=e,d({type:be.REPLACE})}function f(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(p())}return r(),{unsubscribe:t(r)}}})[_e.Z]=function(){return this},e}return d({type:be.INIT}),(s={dispatch:d,subscribe:h,getState:p,replaceReducer:m})[_e.Z]=f,s}(function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var s=t[n];0,"function"==typeof e[s]&&(r[s]=e[s])}var a,o=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:be.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:be.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+be.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(i){a=i}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var n=!1,s={},i=0;i<o.length;i++){var c=o[i],l=r[c],u=e[c],p=l(u,t);if(void 0===p){var h=ke(c,t);throw new Error(h)}s[c]=p,n=n||p!==u}return(n=n||o.length!==Object.keys(e).length)?s:e}}({filters:function(e={},t){switch(t.type){case"CLEAR_FILTERS":case"CLEAR_QUERY_VALUES":return{};case"SET_FILTER":if(!xr().includes(t.name)||!Array.isArray(t.value)&&"string"!=typeof t.value)return e;if(0===t.value.length){const r={...e};return delete r[t.name],r}return{...e,[t.name]:"string"==typeof t.value?[t.value]:t.value}}return e},staticFilters:function(e={},t){switch(t.type){case"CLEAR_QUERY_VALUES":return{};case"SET_STATIC_FILTER":return Tr().includes(t.name)?{...e,[t.name]:t.value}:e}return e},hasError:function(e=!1,t){switch(t.type){case"MAKE_SEARCH_REQUEST":case"RECORD_SUCCESSFUL_SEARCH_REQUEST":return!1;case"RECORD_FAILED_SEARCH_REQUEST":return!0}return e},isLoading:function(e=!1,t){switch(t.type){case"MAKE_SEARCH_REQUEST":return!0;case"RECORD_SUCCESSFUL_SEARCH_REQUEST":case"RECORD_FAILED_SEARCH_REQUEST":return!1}return e},isHistoryNavigation:function(e=!1,t){switch(t.type){case"INITIALIZE_QUERY_VALUES":return t.isHistoryNavigation;case"SET_SEARCH_QUERY":case"SET_SORT":case"CLEAR_FILTERS":case"SET_FILTER":return!t.propagateToWindow&&e}return e},response:function(e={},t){switch(t.type){case"RECORD_SUCCESSFUL_SEARCH_REQUEST":{if("requestId"in e&&"requestId"in t.response&&e.requestId>t.response.requestId)return e;const r={...t.response};return t.options.pageHandle&&(r.aggregations={..."aggregations"in e&&!Array.isArray(e)?e.aggregations:{},...Array.isArray(r.aggregations)?{}:r.aggregations},r.results=[..."results"in e?e.results:[],...r.results]),Array.isArray(r.results)&&r.results.length>r.total&&(r.total=r.results.length),r}}return e},searchQuery:function(e=null,t){switch(t.type){case"SET_SEARCH_QUERY":return t.query;case"CLEAR_QUERY_VALUES":return null}return e},serverOptions:function(e=(()=>{var e;return null!==(e=window[ct])&&void 0!==e?e:{}})()){return e},sort:function(e=null,t){switch(t.type){case"SET_SORT":return dt.includes(t.sort)?t.sort:e;case"CLEAR_QUERY_VALUES":return null}return e}}),{},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},s={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},a=t.map((function(e){return e(s)}));return xe({},r,{dispatch:n=Oe.apply(void 0,a)(r.dispatch)})}}}(...[bn()(Un)]));function Qn(){return{isLoading:!(0,s.useSelect)((e=>e("core").getSite()))}}var Bn=window.wp.coreData;function qn(){const[e,t]=(0,Bn.useEntityProp)("root","site","jetpack_search_color_theme"),[r,n]=(0,Bn.useEntityProp)("root","site","jetpack_search_result_format"),[s,a]=(0,Bn.useEntityProp)("root","site","jetpack_search_default_sort"),[o,i]=(0,Bn.useEntityProp)("root","site","jetpack_search_overlay_trigger"),[c,l]=(0,Bn.useEntityProp)("root","site","jetpack_search_highlight_color"),[u,p]=(0,Bn.useEntityProp)("root","site","jetpack_search_enable_sort"),[h,d]=(0,Bn.useEntityProp)("root","site","jetpack_search_inf_scroll"),[m,f]=(0,Bn.useEntityProp)("root","site","jetpack_search_show_powered_by"),[g,y]=(0,Bn.useEntityProp)("root","site","jetpack_search_excluded_post_types");return{color:c,excludedPostTypes:(0,re.useMemo)((()=>null==g?void 0:g.split(",").filter((e=>(null==e?void 0:e.length)>0))),[g]),infiniteScroll:h,resultFormat:r,setColor:l,setExcludedPostTypes:e=>y(e.join(",")),setInfiniteScroll:d,setResultFormat:n,setShowLogo:f,setSort:a,setSortEnabled:p,setTheme:t,setTrigger:i,showLogo:m,sort:s,sortEnabled:u,theme:e,trigger:o}}const Wn=o.__;a.p=window.JetpackInstantSearchOptions.webpackPublicPath;const Jn={aggregations:function(e=[]){const t={};return e.forEach((({filters:e})=>e.forEach((e=>{t[e.filter_id]=function(e){switch(e.type){case"date_histogram":return{date_histogram:{field:"post_date_gmt"===e.field?"date_gmt":"date",interval:e.interval}};case"taxonomy":{let t=`taxonomy.${e.taxonomy}.slug_slash_name`;return"post_tag"===e.taxonomy?t="tag.slug_slash_name":"category"===e.taxonomy&&(t="category.slug_slash_name"),{terms:{field:t,size:e.count}}}case"post_type":return{terms:{field:e.type,size:e.count}}}}(e)})))),t}([...window[ct].widgets,...window[ct].widgetsOutsideOverlay]),defaultSort:window[ct].defaultSort,hasOverlayWidgets:!!window[ct].hasOverlayWidgets,options:window[ct],themeOptions:function(e){const t={searchInputSelector:['input[name="s"]:not(.jetpack-instant-search__box-input)',"#searchform input.search-field:not(.jetpack-instant-search__box-input)",".search-form input.search-field:not(.jetpack-instant-search__box-input)",".searchform input.search-field:not(.jetpack-instant-search__box-input)"].join(", "),filterInputSelector:["a.jetpack-search-filter__link"],overlayTriggerSelector:[".jetpack-instant-search__open-overlay-button","header#site-header .search-toggle[data-toggle-target]"].join(",")};return e.theme_options?{...t,...e.theme_options}:t}(window[ct])};function Gn(){const{color:e,excludedPostTypes:t,infiniteScroll:r,resultFormat:n,showLogo:s,sort:a,sortEnabled:o,theme:i,trigger:c}=qn(),l={...window[ct].overlayOptions,...(0,g.pickBy)({colorTheme:i,defaultSort:a,enableInfScroll:r,enableSort:o,excludedPostTypes:t,highlightColor:e,overlayTrigger:c,resultFormat:n,showPoweredBy:s},(e=>void 0!==e))},{isLoading:u}=Qn();return React.createElement("div",{className:"jp-search-configure-app-wrapper"},u?React.createElement("img",{className:"jp-search-configure-loading-spinner",width:"32",height:"32",alt:Wn("Loading","jetpack"),src:"//en.wordpress.com/i/loading/loading-64.gif"}):React.createElement(ce,{store:Hn},React.createElement(vn,X()({},Jn,{enableAnalytics:!1,initialIsVisible:!0,initialShowResults:!0,isInCustomizer:!1,overlayOptions:l,shouldCreatePortal:!1,shouldIntegrateWithDom:!1}))))}const Kn="jetpack_search_customberg",Yn=(...e)=>wr(...e,!0);function Zn(){const{saveEntityRecord:e,undo:t,redo:r}=(0,s.useDispatch)("core"),n=(0,s.useSelect)((e=>e("core").getEntityRecordEdits("root","site"))),a=n&&Object.keys(n).length>0,o=(0,s.useSelect)((e=>e("core").isSavingEntityRecord("root","site"))),i=(0,s.useSelect)((e=>e("core").hasUndo())),c=(0,s.useSelect)((e=>e("core").hasRedo())),l=(0,re.useCallback)((()=>{a&&e("root","site",n)}),[n,a,e]);return{editedEntities:n,hasRedo:i,hasUndo:c,hasUnsavedEdits:a,isSaving:o,redo:r,saveRecords:l,undo:t}}const Xn=o.__;function es(){const{editedEntities:e,isSaving:t,hasUnsavedEdits:r,saveRecords:s}=Zn();return React.createElement(n.Button,{"aria-disabled":t,disabled:!r,isBusy:t,isPrimary:!0,onClick:(...r)=>{t||(Yn(`${Kn}_save_button_click`,{initialSettings:JSON.stringify(window[ct].overlayOptions),changedSettings:JSON.stringify(e),changedSettingNames:Object.keys(e).join(",")}),s(...r))}},Xn(t?"Saving…":"Save","jetpack"))}const ts=o.__;var rs=function(){const e=(0,W.useViewportMatch)("medium");return React.createElement("div",{className:"jp-search-configure-header"},React.createElement("div",{className:"jp-search-configure-header__navigable-toolbar-wrapper"},e?React.createElement("h1",{className:"jp-search-configure-header__title"},ts("Jetpack Search","jetpack")):React.createElement(n.VisuallyHidden,{as:"h1",className:"jp-search-configure-header__title"},ts("Jetpack Search","jetpack"))),React.createElement("div",{className:"jp-search-configure-header__actions"},React.createElement(es,null),React.createElement(H.Slot,{scope:G})))};const ns=o.__,ss={header:ns("Jetpack Search customization top bar","jetpack"),body:ns("Jetpack Search customization preview","jetpack"),sidebar:ns("Jetpack Search customization settings","jetpack"),footer:ns("Jetpack Search customization footer","jetpack")};function as(){const{hasSidebarEnabled:e,isLargeViewport:t}=(0,s.useSelect)((e=>({isLargeViewport:e(m.store).isViewportMatch("large"),hasSidebarEnabled:!!e(A).getActiveComplementaryArea(G)}))),{enableComplementaryArea:n,disableComplementaryArea:a}=(0,s.useDispatch)(A);return(0,r.useEffect)((()=>{t?n(G,Y):a(G)}),[n,a,t]),React.createElement(J,{content:React.createElement(Gn,null),header:React.createElement(rs,null),labels:ss,sidebar:e&&React.createElement(q.Slot,{scope:G})})}var os=(0,r.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(u.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})),is=window.wp.blockEditor,cs=window.wp.url;const ls=o.__;function us(){return React.createElement("div",{className:"jp-search-configure-sidebar-description"},React.createElement(is.BlockIcon,{icon:qr}),React.createElement("div",null,React.createElement("p",null,ls("Jetpack Instant Search will allow your visitors to get search results as soon as they start typing. Customize this experience to offer better results that match your site.","jetpack")),React.createElement(n.Button,{href:"widgets.php",isTertiary:!0},ls("Edit widgets","jetpack")),React.createElement(n.Button,{href:(0,cs.addQueryArgs)("customize.php",{"autofocus[section]":"jetpack_search",return:`${window.location.pathname}${window.location.search}`}),isTertiary:!0},ls("Configure in the Customizer","jetpack"))))}const ps=o.__,hs=[{name:"Dull blue",color:"#463ECE"},{name:"Jazzberry jam",color:"#C6446F"},{name:"June bud",color:"#C4D455"}];function ds({disabled:e,value:t,onChange:r}){const n=(0,s.useSelect)((e=>{var t;const r=null!==(t=e("core/block-editor").getSettings())&&void 0!==t?t:{};return Array.isArray(null==r?void 0:r.colors)&&r.colors.length>0?r.colors:hs}));return React.createElement("div",{className:"jp-search-configure-color-input components-base-control"},React.createElement(is.__experimentalColorGradientControl,{label:ps("Highlight for search terms","jetpack"),disabled:e,colorValue:t,colors:n,disableCustomColors:!1,disableCustomGradients:!0,onColorChange:r}))}const ms=o.__,fs=window.JetpackInstantSearchOptions.postTypes;function gs({disabled:e,onChange:t,validPostTypes:s=fs,value:a}){const o=(0,r.useMemo)((()=>Object.keys(s)),[s]),i=(0,r.useMemo)((()=>a&&Array.isArray(a)?new Set(a):new Set),[a]),c=i.size===o.length-1;return React.createElement("div",{className:"jp-search-configure-excluded-post-types-control components-base-control"},React.createElement("div",{className:"jp-search-configure-excluded-post-types-control__label"},ms("Excluded post types","jetpack")),c&&React.createElement(n.Notice,{isDismissible:!1,status:"info"},ms("You must leave at least one post type unchecked.","jetpack")),o.map((r=>{return React.createElement(n.CheckboxControl,{checked:i.has(r),disabled:e||!i.has(r)&&c,key:r,label:fs[r].name,onChange:(s=r,e=>{const r=new Set(i);e?r.add(s):r.delete(s),t([...r])}),value:r});var s})))}function ys({theme:e}){const t="dark"===e?"#000":"#fff",r="dark"===e?"#4F5861":"#DDE5EE";return React.createElement("svg",{width:"104",height:"80",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},React.createElement("rect",{x:"7.5",y:"7.5",width:"89",height:"65",rx:"3.5",fill:t,stroke:r}),React.createElement("path",{d:"M16 20a4 4 0 014-4h49a4 4 0 010 8H20a4 4 0 01-4-4zM42 55.5a1.5 1.5 0 011.5-1.5h32a1.5 1.5 0 010 3h-32a1.5 1.5 0 01-1.5-1.5zM42 60.5a1.5 1.5 0 011.5-1.5h11a1.5 1.5 0 010 3h-11a1.5 1.5 0 01-1.5-1.5zM16 47a4 4 0 014-4h12a4 4 0 014 4v12a4 4 0 01-4 4H20a4 4 0 01-4-4V47zM42 48a3 3 0 013-3h40a3 3 0 110 6H45a3 3 0 01-3-3zM8 32h89v1H8z",fill:r}))}const vs=o.__;function _s({disabled:e,value:t,onChange:r}){return React.createElement("div",{className:"jp-search-configure-theme-buttons components-base-control"},React.createElement(n.Button,{className:l()({"jp-search-configure-theme-button--selected":"light"===t}),disabled:e,onClick:()=>r("light"),variant:"link"},React.createElement(ys,{theme:"light"}),React.createElement("span",{"aria-label":vs("Light Theme","jetpack")},vs("Light","jetpack"))),React.createElement(n.Button,{className:l()({"jp-search-configure-theme-button--selected":"dark"===t}),disabled:e,onClick:()=>r("dark"),variant:"link"},React.createElement(ys,{theme:"dark"}),React.createElement("span",{"aria-label":vs("Dark Theme","jetpack")},vs("Dark","jetpack"))))}const Es=o.__;function bs(){const{color:e,excludedPostTypes:t,infiniteScroll:r,resultFormat:s,setColor:a,setExcludedPostTypes:o,setInfiniteScroll:i,setResultFormat:c,setShowLogo:u,setSort:p,setSortEnabled:h,setTheme:d,setTrigger:m,showLogo:f,sort:g,sortEnabled:y,theme:v,trigger:_}=qn(),{isSaving:E}=Zn(),{isLoading:b}=Qn(),w=E||b;return React.createElement(n.Panel,{className:l()("jp-search-configure-sidebar-options",{"jp-search-configure-sidebar-options--is-disabled":w})},React.createElement(n.PanelBody,{title:Es("Styling","jetpack"),initialOpen:!0},React.createElement(_s,{disabled:w,onChange:d,value:v}),React.createElement(n.RadioControl,{className:"jp-search-configure-result-format-radios",label:Es("Result format","jetpack"),selected:s,options:[{label:Es("Minimal","jetpack"),value:"minimal"},{label:Es("Expanded (shows images)","jetpack"),value:"expanded"},{label:Es("Product (for WooCommerce stores)","jetpack"),value:"product"}],onChange:c}),React.createElement(ds,{disabled:w,onChange:a,value:e})),React.createElement(n.PanelBody,{title:Es("Search options","jetpack"),initialOpen:!0},React.createElement(n.SelectControl,{disabled:w,label:Es("Default sort","jetpack"),value:g,options:[{label:Es("Relevance (recommended)","jetpack"),value:"relevance"},{label:Es("Newest first","jetpack"),value:"newest"},{label:Es("Oldest first","jetpack"),value:"oldest"}],onChange:p}),React.createElement(n.SelectControl,{disabled:w,label:Es("Overlay trigger","jetpack"),value:_,options:[{label:Es("Open when the user starts typing","jetpack"),value:"immediate"},{label:Es("Open when results are available","jetpack"),value:"results"},{label:Es("Open when user submits the form","jetpack"),value:"submit"}],onChange:m}),React.createElement(gs,{disabled:w,onChange:o,value:t})),React.createElement(n.PanelBody,{title:Es("Additional settings","jetpack"),initialOpen:!0},React.createElement(n.ToggleControl,{checked:y,disabled:w,label:Es("Show sort selector","jetpack"),onChange:h}),React.createElement(n.ToggleControl,{checked:r,disabled:w,label:Es("Enable infinite scroll","jetpack"),onChange:i}),React.createElement(n.ToggleControl,{checked:f,disabled:w,label:Es('Show "Powered by Jetpack"',"jetpack"),onChange:u})))}const ws=o.__;function ks({currentTab:e}){return React.createElement("ul",null,React.createElement("li",null,React.createElement(Ss,{identifier:K,label:ws("Jetpack Search","jetpack"),isActive:e===K})),React.createElement("li",null,React.createElement(Ss,{identifier:Y,label:ws("Options","jetpack"),isActive:e===Y})))}function Ss({identifier:e,label:t,isActive:r}){const{enableComplementaryArea:a}=(0,s.useDispatch)(A),i=r?(0,o.sprintf)(ws("%s (selected)","jetpack"),t):t;return React.createElement(n.Button,{onClick:()=>a(G,e),className:l()("jp-search-configure-sidebar__panel-tab",{"is-active":r}),"aria-label":i,"data-label":t},t)}function Cs(){const e=(0,s.useSelect)((e=>{const{getActiveComplementaryArea:t}=e(A);return t(G)?t(G):Y}),[]);return React.createElement(q,{className:"jp-search-configure-sidebar",closeLabel:ws("Close settings","jetpack"),header:React.createElement(ks,{currentTab:e}),headerClassName:"jp-search-configure-sidebar__panel-tabs",icon:os,identifier:e,isActiveByDefault:!0,scope:G,title:ws("Settings","jetpack")},e===K&&React.createElement(us,null),e===Y&&React.createElement(bs,null))}function js(){return(0,r.useEffect)((()=>{((...e)=>{Er(...e,!0)})(),((...e)=>{br(...e,!0)})(window[ct].siteId),Yn(`${Kn}_page_view`)}),[]),React.createElement(n.SlotFillProvider,null,React.createElement(as,null),React.createElement(Cs,null),React.createElement(n.Popover.Slot,null))}window.jetpackSearchConfigureInit=function(e){document.body.classList.add("folded"),(0,r.render)(React.createElement(js,null),document.getElementById(e))}}()}();